<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>RSS - 标签 - 吾铭子</title>
        <link>https://1078249029.github.io/tags/rss/</link>
        <description>RSS - 标签 - 吾铭子</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-cn</language><managingEditor>1078249029@qq.com (吾铭子)</managingEditor>
            <webMaster>1078249029@qq.com (吾铭子)</webMaster><lastBuildDate>Sat, 19 Oct 2024 10:48:46 &#43;0800</lastBuildDate><atom:link href="https://1078249029.github.io/tags/rss/" rel="self" type="application/rss+xml" /><item>
    <title>nginx反向代理trojan与rsshub</title>
    <link>https://1078249029.github.io/posts/using-nginx-for-trojan-and-rsshub/</link>
    <pubDate>Sat, 19 Oct 2024 10:48:46 &#43;0800</pubDate><author>
        <name>吾铭子</name>
    </author><guid>https://1078249029.github.io/posts/using-nginx-for-trojan-and-rsshub/</guid>
    <description><![CDATA[<h1 id="nginx反向代理trojan与rsshub" class="headerLink">
    <a href="#nginx%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86trojan%e4%b8%8ersshub" class="header-mark"></a>nginx反向代理trojan与rsshub</h1><p>最终效果：外网通过rss.domin.top访问rsshub服务，通过free.domin.top访问trojan服务，通过free.domin.top/admin访问trojan-web管理服务。内部使用docker隔离包括nginx在内的所有服务</p>
<h2 id="前置准备" class="headerLink">
    <a href="#%e5%89%8d%e7%bd%ae%e5%87%86%e5%a4%87" class="header-mark"></a>前置准备</h2><h3 id="购买服务器及域名" class="headerLink">
    <a href="#%e8%b4%ad%e4%b9%b0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%8f%8a%e5%9f%9f%e5%90%8d" class="header-mark"></a>购买服务器及域名</h3><p>可以从主流的服务器提供商购买服务器以及域名，我选择的服务器厂商是雨云(国际厂商可以选择racknerd或VMISS)，域名提供商是namesilo</p>
<p>购买完毕后需要在国内DNS解析服务器上绑定ip与域名，可以选择腾讯DNS解析服务。绑定格式如下，需要注意的是我这里使用的二级域名需要额外在namesilo生成

<figure><a class="lightgallery" href="/vx_images/555814913252497.png" title="2024-10-19_13-49" data-thumbnail="/vx_images/555814913252497.png" data-sub-html="<h2> </h2><p>2024-10-19_13-49</p>"><img   src='/vx_images/555814913252497.png'   alt="2024-10-19_13-49" height="1479" width="2239"></a><figcaption class="image-caption">2024-10-19_13-49</figcaption>
    </figure></p>
<p>
<figure><a class="lightgallery" href="/vx_images/355505213270377.png" title="2024-10-19_13-52" data-thumbnail="/vx_images/355505213270377.png" data-sub-html="<h2> </h2><p>2024-10-19_13-52</p>"><img   src='/vx_images/355505213270377.png'   alt="2024-10-19_13-52" height="1481" width="2236"></a><figcaption class="image-caption">2024-10-19_13-52</figcaption>
    </figure>
这里记录值改为ip地址即可</p>
<h3 id="初始化服务器" class="headerLink">
    <a href="#%e5%88%9d%e5%a7%8b%e5%8c%96%e6%9c%8d%e5%8a%a1%e5%99%a8" class="header-mark"></a>初始化服务器</h3><p>我的系统是Ubuntu22.04，预安装宝塔面板。安装系统完成并进入宝塔面板后，需要下载docker</p>
<h2 id="正式搭建" class="headerLink">
    <a href="#%e6%ad%a3%e5%bc%8f%e6%90%ad%e5%bb%ba" class="header-mark"></a>正式搭建</h2><h3 id="部署nginx容器" class="headerLink">
    <a href="#%e9%83%a8%e7%bd%b2nginx%e5%ae%b9%e5%99%a8" class="header-mark"></a>部署nginx容器</h3><p>我这里使用的是<a href="https://hub.docker.com/_/nginx/tags" target="_blank" rel="noopener noreferrer">dockerhub上的官方版本</a></p>
<p>首先拉取镜像到本地</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">shell</p>]]></description>
</item></channel>
</rss>
