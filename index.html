<!DOCTYPE html>
<html lang="zh-cn">

<head>
	<meta name="generator" content="Hugo 0.145.0">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" /><title>吾铭子</title><meta name="Description" content="吾铭子"><meta property="og:url" content="https://1078249029.github.io/">
  <meta property="og:site_name" content="吾铭子">
  <meta property="og:title" content="吾铭子">
  <meta property="og:description" content="吾铭子">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="website">
    <meta property="og:image" content="https://1078249029.github.io/logo.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://1078249029.github.io/logo.png">
  <meta name="twitter:title" content="吾铭子">
  <meta name="twitter:description" content="吾铭子">
<meta name="application-name" content="吾铭子">
<meta name="apple-mobile-web-app-title" content="吾铭子">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

  

<link rel="canonical" href="https://1078249029.github.io/" /><link rel="alternate" href="/index.xml" type="application/rss+xml" title="吾铭子">
    <link rel="feed" href="/index.xml" type="application/rss+xml" title="吾铭子">
<link rel="stylesheet" href="/css/main.min.css"><link rel="stylesheet" href="/css/style.min.css"><script type="application/ld+json">
        {"@context": "https://schema.org",
        "@graph": [{
                "@type": "WebSite",
                "url": "https://1078249029.github.io/","inLanguage": "zh-cn","author": {
                        "@type": "Person",
                        "name": "吾铭子"
                    },"description": "吾铭子","copyrightYear":  2023 ,"copyrightHolder": {
                        "@type": "Person",
                        "name": "true"
                    },"name": "吾铭子"
            },{"@type": "BlogPosting",
        "headline": "RISC-V",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/risc-v/"
        },"genre": "posts","keywords":["Tech","Computer Architecture"],"wordcount":  1094 ,
        "url": "https://1078249029.github.io/posts/risc-v/","datePublished": "2025-01-01T15:22:46+08:00","dateModified": "2025-04-07T19:32:31+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "Rust",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/rust/"
        },"genre": "posts","keywords":["Programing Language","Tech"],"wordcount":  7823 ,
        "url": "https://1078249029.github.io/posts/rust/","datePublished": "2024-12-15T11:43:24+08:00","dateModified": "2025-04-07T19:32:31+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "移植ESP32SPI驱动至rtthread教程",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/planting-esp32spi-to-rtthread/"
        },"genre": "posts","keywords":["Tech","OS","ESP32","RT-Thread"],"wordcount":  987 ,
        "url": "https://1078249029.github.io/posts/planting-esp32spi-to-rtthread/","datePublished": "2024-10-19T10:50:25+08:00","dateModified": "2024-11-04T15:02:01+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "nginx反向代理trojan与rsshub",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/using-nginx-for-trojan-and-rsshub/"
        },"genre": "posts","keywords":["Tech","RSS","Nginx","Life"],"wordcount":  486 ,
        "url": "https://1078249029.github.io/posts/using-nginx-for-trojan-and-rsshub/","datePublished": "2024-10-19T10:48:46+08:00","dateModified": "2024-10-19T21:15:26+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "计算机网络",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/computer-network/"
        },"genre": "posts","keywords":["Tech","Network"],"wordcount":  81 ,
        "url": "https://1078249029.github.io/posts/computer-network/","datePublished": "2024-04-22T15:49:01+08:00","dateModified": "2024-09-09T13:51:35+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "Linux深入",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/linux-advanced/"
        },"genre": "posts","keywords":["OS","Tech"],"wordcount":  228 ,
        "url": "https://1078249029.github.io/posts/linux-advanced/","datePublished": "2024-02-23T11:44:04+08:00","dateModified": "2025-03-31T16:51:18+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "Linux内核",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/linux-kernel/"
        },"genre": "posts","keywords":["OS","Tech"],"wordcount":  508 ,
        "url": "https://1078249029.github.io/posts/linux-kernel/","datePublished": "2024-02-21T16:55:40+08:00","dateModified": "2024-10-28T19:39:58+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "Linux基础",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/linux-basics/"
        },"genre": "posts","keywords":["OS","Tech"],"wordcount":  1394 ,
        "url": "https://1078249029.github.io/posts/linux-basics/","datePublished": "2024-01-23T18:18:18+08:00","dateModified": "2024-10-28T19:39:19+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "C++",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/cpp/"
        },"genre": "posts","keywords":["Programing Language","Tech"],"wordcount":  5429 ,
        "url": "https://1078249029.github.io/posts/cpp/","datePublished": "2024-01-14T09:37:21+08:00","dateModified": "2025-04-04T09:37:57+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "Python",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/python/"
        },"genre": "posts","keywords":["Programing Language","Tech"],"wordcount":  950 ,
        "url": "https://1078249029.github.io/posts/python/","datePublished": "2024-01-14T09:37:13+08:00","dateModified": "2024-09-08T17:57:43+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "工具链",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/toolchains/"
        },"genre": "posts","keywords":["Tech","Tools"],"wordcount":  608 ,
        "url": "https://1078249029.github.io/posts/toolchains/","datePublished": "2024-01-02T14:37:10+08:00","dateModified": "2024-10-29T11:24:43+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "项目",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/program/"
        },"genre": "posts","keywords":["Tech"],"wordcount":  1025 ,
        "url": "https://1078249029.github.io/posts/program/","datePublished": "2024-01-01T12:38:48+08:00","dateModified": "2024-04-17T15:40:18+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "杂项",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/miscs/"
        },"genre": "posts","keywords":["Tech"],"wordcount":  820 ,
        "url": "https://1078249029.github.io/posts/miscs/","datePublished": "2023-12-24T10:07:45+08:00","dateModified": "2024-10-28T20:08:00+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "FreeRTOS",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/freertos/"
        },"genre": "posts","keywords":["OS","Tech"],"wordcount":  223 ,
        "url": "https://1078249029.github.io/posts/freertos/","datePublished": "2023-12-24T10:06:40+08:00","dateModified": "2024-09-14T16:54:43+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "C复健计划",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/c-review/"
        },"genre": "posts","keywords":["Programing Language","Tech"],"wordcount":  655 ,
        "url": "https://1078249029.github.io/posts/c-review/","datePublished": "2023-10-18T13:57:04+08:00","dateModified": "2025-03-06T21:43:35+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "STM32",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/stm32/"
        },"genre": "posts","keywords":["Tech","STM32"],"wordcount":  450 ,
        "url": "https://1078249029.github.io/posts/stm32/","datePublished": "2023-10-18T13:57:04+08:00","dateModified": "2024-10-28T19:56:24+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "Vim复健计划",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/vim/"
        },"genre": "posts","keywords":["Tech","Arch Linux"],"wordcount":  73 ,
        "url": "https://1078249029.github.io/posts/vim/","datePublished": "2023-10-18T13:57:04+08:00","dateModified": "2024-01-23T10:25:32+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "百年工业",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/century-industry/"
        },"genre": "posts","keywords":["Industry,Mechanic,History"],"wordcount":  141 ,
        "url": "https://1078249029.github.io/posts/century-industry/","datePublished": "2023-02-07T14:47:09+08:00","dateModified": "2023-02-07T14:47:09+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "测试",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/test1/"
        },"genre": "posts","keywords":[""],"wordcount":  35 ,
        "url": "https://1078249029.github.io/posts/test1/","datePublished": "2023-01-19T17:46:24+08:00","dateModified": "2025-04-07T19:32:31+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    },{"@type": "BlogPosting",
        "headline": "Hello World",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://1078249029.github.io/posts/hello-world/"
        },"genre": "posts","keywords":[""],"wordcount":  82 ,
        "url": "https://1078249029.github.io/posts/hello-world/","datePublished": "2023-01-02T17:24:20+08:00","dateModified": "2025-04-07T19:32:31+08:00","publisher": {
            "@type": "Organization",
            "name": "吾铭子"},"author": {
                "@type": "Person",
                "name": "吾铭子",
                "url": "wumingzi.top"
            },"description": ""
    }]}
        </script></head>


<body data-instant-intensity="viewport" class="tw-flex tw-min-h-screen tw-flex-col"><script type="text/javascript">
    function setTheme(theme) {
      document.body.setAttribute('theme', theme); 
      document.documentElement.className = theme;
      document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');
      if (theme === 'light') {
        document.documentElement.classList.remove('tw-dark')
      } else {
        document.documentElement.classList.add('tw-dark')
      }
      window.theme = theme;   
      window.isDark = window.theme !== 'light' 
    }
    function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
    function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
    if (window.localStorage && localStorage.getItem('theme')) {
        let theme = localStorage.getItem('theme');
        if (theme === 'light' || theme === 'dark') {
        setTheme(theme);
        } else {
            if ((window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                setTheme('dark');
            } else {
                setTheme('light');
            }
        }
      } else { 
        if ('auto' === 'light' || 'auto' === 'dark') 
            setTheme('auto'), saveTheme('auto'); 
        else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');
    }
    let metaColors = {'light': '#f8f8f8','dark': '#161b22'}
    getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
    window.switchThemeEventSet = new Set()
</script><div id="back-to-top"></div>
    <div id="mask"></div><header class="desktop print:!tw-hidden" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="吾铭子">吾铭子</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item"
                    href="/posts/" > 归档 </a><a class="menu-item"
                    href="/tags/" > 标签 </a><a class="menu-item"
                    href="/categories/" > 分类 </a><a class="menu-item"
                    href="/about/" > 关于 </a><a class="menu-item"
                    href="/friend/" > 友链 </a><a class="menu-item"
                    href="/essay/" > 杂记 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                    <input type="text"
                        placeholder="搜索文章标题或内容..."
                        id="search-input-desktop">
                    <button class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
                    </button>
                    <button class="search-button search-clear" id="search-clear-desktop" title="清空">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/></svg>
                    </button>
                    <span class="search-button search-loading tw-animate-spin" id="search-loading-desktop">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/></svg>
                    </span>
                </span><button class="menu-item theme-switch" aria-label="切换主题">
                    <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
                </button></div>
        </div>
    </div>
</header><header class="mobile print:!tw-hidden" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="吾铭子">吾铭子</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                <div class="search mobile" id="search-mobile">
                    <input type="text"
                        placeholder="搜索文章标题或内容..."
                        id="search-input-mobile">
                    <button class="search-button search-toggle tw-h-10" id="search-toggle-mobile" title="搜索">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
                    </button>
                    <button class="search-button search-clear tw-h-fit" id="search-clear-mobile" title="清空">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/></svg>
                    </button>
                    <span class="search-button search-loading tw-animate-spin" id="search-loading-mobile">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/></svg>
                    </span>
                </div>
                <button class="search-cancel" id="search-cancel-mobile">
                    取消
                </button>
            </div><a class="menu-item" href="/posts/" title="" >归档</a><a class="menu-item" href="/tags/" title="" >标签</a><a class="menu-item" href="/categories/" title="" >分类</a><a class="menu-item" href="/about/" title="" >关于</a><a class="menu-item" href="/friend/" title="" >友链</a><a class="menu-item" href="/essay/" title="" >杂记</a><button class="menu-item theme-switch tw-w-full" aria-label="切换主题">
                <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
            </button></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="tw-mx-4 tw-flex-1"><div class="page home" posts><div class="home-profile"><div class="home-avatar"><a href="/posts/"  title="归档" ><img  loading="eager" src='https://avatars.githubusercontent.com/u/62127946?v=4'   alt="Home avatar" height="100" width="100"></a></div><h1 class="home-title">吾铭子的博客</h1><h2 class="home-subtitle">轻蔑的轻蔑是不言，愤怒的愤怒是沉默</h2><div class="links"><a href="https://github.com/1078249029" title="GitHub" target="_blank" rel="noopener noreferrer me"><svg class="icon" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a href="https://steamcommunity.com/profiles/76561198816384572" title="Steam" target="_blank" rel="noopener noreferrer me"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M496 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79 0 0 0 27.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3-5.4-13-15.5-23.2-28.5-28.6-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4 0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9 0 46.9-21 46.9-46.8 0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z"/></svg></a><a href="https://space.bilibili.com/31123236" title="bilibili" target="_blank" rel="noopener noreferrer me"><svg class="icon" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Bilibili icon</title><path d="M17.813 4.653h.854c1.51.054 2.769.578 3.773 1.574 1.004.995 1.524 2.249 1.56 3.76v7.36c-.036 1.51-.556 2.769-1.56 3.773s-2.262 1.524-3.773 1.56H5.333c-1.51-.036-2.769-.556-3.773-1.56S.036 18.858 0 17.347v-7.36c.036-1.511.556-2.765 1.56-3.76 1.004-.996 2.262-1.52 3.773-1.574h.774l-1.174-1.12a1.234 1.234 0 0 1-.373-.906c0-.356.124-.658.373-.907l.027-.027c.267-.249.573-.373.92-.373.347 0 .653.124.92.373L9.653 4.44c.071.071.134.142.187.213h4.267a.836.836 0 0 1 .16-.213l2.853-2.747c.267-.249.573-.373.92-.373.347 0 .662.151.929.4.267.249.391.551.391.907 0 .355-.124.657-.373.906zM5.333 7.24c-.746.018-1.373.276-1.88.773-.506.498-.769 1.13-.786 1.894v7.52c.017.764.28 1.395.786 1.893.507.498 1.134.756 1.88.773h13.334c.746-.017 1.373-.275 1.88-.773.506-.498.769-1.129.786-1.893v-7.52c-.017-.765-.28-1.396-.786-1.894-.507-.497-1.134-.755-1.88-.773zM8 11.107c.373 0 .684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c0-.373.129-.689.386-.947.258-.257.574-.386.947-.386zm8 0c.373 0 .684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c.017-.391.15-.711.4-.96.249-.249.56-.373.933-.373Z"/></svg></a><a href="mailto:1078249029@qq.com" title="Email" rel=" me"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg></a><a href="/index.xml" title="RSS" target="_blank" rel="noopener noreferrer me"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></a></div></div><article class="single summary"><h1 class="single-title">
        <a href="/posts/risc-v/">RISC-V</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2025-01-01">2025-01-01</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2025-04-07">2025-04-07</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="riscv" class="headerLink">
    <a href="#riscv" class="header-mark"></a>RISCV</h1><h2 id="前置知识" class="headerLink">
    <a href="#%e5%89%8d%e7%bd%ae%e7%9f%a5%e8%af%86" class="header-mark"></a>前置知识</h2><p>ISA: 指令集架构，是底层硬件向上层软件提供的一层接口规范。ISA的出现使得软件开发者不必关心具体的硬件电路结构
ISA定义了如下方面</p>
<ul>
<li>基本数据类型(byte,word,halfword)</li>
<li>寄存器</li>
<li>指令</li>
<li>寻址模式</li>
<li>异常和中断</li>
<li>……</li>
</ul>
<p>微架构：硬件对指令集架构的实现，注意功耗，发热，速度，成本等制造的问题</p>
<p>ISA的宽度与指令宽度无关，它指的是通用寄存器的宽度</p>
<p>riscv灵感来自于mips，mips最初是斯坦福大学教授的产品，后来由于经营问题失败，该教授也是riscv之父</p>
<h2 id="riscv的isa基本情况" class="headerLink">
    <a href="#riscv%e7%9a%84isa%e5%9f%ba%e6%9c%ac%e6%83%85%e5%86%b5" class="header-mark"></a>RISCV的ISA基本情况</h2><p>riscv由一个基本指令集+若干个可选的扩展指令集组成，基本指令集永远不会变，</p>
<p><strong>riscv每条指令宽度32位(虽然有16位的压缩指令集)，但是并没有64位宽的指令。这是由于无论是riscv32还是riscv64都只有32个通用寄存器，区别在于寄存器的位宽是32位还是64位，因此控制这32个寄存器只需要5个位宽的索引就够了，因此riscv只有32位宽的指令，尽管只有32位宽的指令，我们还可以通过LUI以及ADDI指令灵活访问超过4GB内存大小的地址</strong></p>
<p>基本整数指令集(I)：唯一要求强制实现的指令集，其他指令集都是扩展模块
扩展指令集：M(整数乘法指令集)，A(原子指令集)，F(浮点指令集)，D(双精度指令集)，C(压缩指令集)
特定组合：IMAFD被称为通用组合，用G表示
RV64I：64位的riscv整数指令集，兼容RV32I</p>
<p>压缩指令集是为了提高指令密度出现的。有时arm的一条指令可以执行两个操作，例如LDP和STP内存存储指令，但是在riscv中需要两条指令才能完成: 一条负责执行加载/存储内存数据，另一条负责修改基地址。而这直接导致了编译同一份代码，riscv生成的机器码指令多于arm，这不仅需要更大的存储空间同时还会降低缓存命中率。因此riscv使用16位宽指令代替32位宽的指令产生了RVC指令集，RVC可用于RV32，RV64，RV128上</p>
<p>riscv定义了一32个通用寄存器x0&hellip;x31，以及一个pc。pc与arm和x86的不同，它无法在编程中访问</p>
<ul>
<li>对RV32I/64I/128I都一样</li>
<li>RV32E将32个寄存器缩减为16以满足嵌入式场景</li>
<li>如果要支持FD模块则需要额外的32个浮点寄存器</li>
</ul>
<p>hart(hardware thread)：为了防止超线程概念被混淆，riscv标准规定了hart概念，一个hart对应的就是一个超线程</p>
<p>riscv规定了三个特权级：machine supervisor user，三个特权级权限依次降低
特权级别的区分在于他们分别有各自的csr(control and state)寄存器，高特权级别可以访问低级别的csr</p>
<p>物理内存保护和虚拟内存：</p>
<ul>
<li>物理内存保护类似x86的实模式，在machine模式中可以指定user模式下可以访问的内存空间及其权限。这样就完成了分段的概念</li>
<li>虚拟内存需要supervisor和mmu的支持</li>
</ul>
<p>异常与中断：尽管在之前已经多次学习了这两个概念，但是在riscv规范中还有不同之处</p>
<ul>
<li>当程序触发异常时，cpu会跳转到异常处理程序，这个处理程序由开发者自行编写，当处理程序执行完毕后<strong>跳回到发生异常的代码重新执行</strong></li>
<li>当触发中断时，cpu会跳转到中断处理程序，这个处理程序由开发者自行编写，当处理程序执行完毕后<strong>跳回到发生中断的下一行代码执行</strong></li>
</ul>
<p>elf文件主要有四类：</p>
<ul>
<li>.o</li>
<li>.out</li>
<li>.so</li>
<li>核心转储core文件</li>
</ul>
<p>elf文件大致内容如下

<figure><a class="lightgallery" href="/vx_images/78955821256435.png" title="2025-01-01_21-57" data-thumbnail="/vx_images/78955821256435.png" data-sub-html="<h2> </h2><p>2025-01-01_21-57</p>"><img   src='/vx_images/78955821256435.png'   alt="2025-01-01_21-57" height="1599" width="2560"></a><figcaption class="image-caption">2025-01-01_21-57</figcaption>
    </figure>
elf header指定了该elf文件的基本内容，包括编译器，可运行的架构等内容，program header table指定了运行时该以何种方式加载进内存。section header table表示了该文件链接时是如何生成的。不将这些section直接加载进内存的原因是这些段需要内存对齐，一旦对齐会浪费很多空间。因此program header table将相似的section作为segment来将其加载进内存</p>
<p>由于elf文件内有许多运行代码时不需要的调试信息，我们可以生成.bin文件来删除这些信息</p>
<h2 id="riscv汇编" class="headerLink">
    <a href="#riscv%e6%b1%87%e7%bc%96" class="header-mark"></a>RISCV汇编</h2><p><strong>下面的指令均以RV32I为例</strong></p>
<p>汇编程序语法与编译器有很大关系，在gnu工具链上的汇编程序在llvm可能不会运行</p>
<p>riscv汇编的结构：
[label:][operation][comment]</p>
<ul>
<li>label：gnu汇编中，任何以冒号为结尾的标识符都被视作标号，label可以被视为地址</li>
<li>operation：
<ul>
<li>instruction：直接对应机器指令的汇编指令</li>
<li>pseudo-instruction：一条伪指令可以产生多条机器指令</li>
<li>directive：以&quot;.&ldquo;用来控制汇编器处理代码的指令</li>
<li>macro：采用.macro自定义的宏</li>
</ul>
</li>
<li>comment：注释，常用# ; //</li>
</ul>
<p>指令长度ILEN：32bits(RV32I)
指令对齐IALIGN：32bits(RV32I)
指令在内存中按小端序排列</p></div><div class="post-footer">
        <a href="/posts/risc-v/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a>,&nbsp;<a href="/tags/computer-architecture/">Computer Architecture</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/rust/">Rust</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-12-15">2024-12-15</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2025-04-07">2025-04-07</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="rust" class="headerLink">
    <a href="#rust" class="header-mark"></a>Rust</h1><h2 id="前期准备" class="headerLink">
    <a href="#%e5%89%8d%e6%9c%9f%e5%87%86%e5%a4%87" class="header-mark"></a>前期准备</h2><h3 id="环境搭建" class="headerLink">
    <a href="#%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" class="header-mark"></a>环境搭建</h3><p>可选ide/插件式编辑器:  rustrover(jet brains)/rust-analyzer(rust foundation)+vscode</p>
<p>访问<a href="https://www.rust-lang.org/tools/install" target="_blank" rel="noopener noreferrer">rust官网</a>来获取下载链接，windows采用msvc编译链，在使用msvc之前需要先下载<code>Visual Studio C++ Build tools</code>。其它平台浏览器会自动识别并提供下载方式</p>
<h3 id="创建项目" class="headerLink">
    <a href="#%e5%88%9b%e5%bb%ba%e9%a1%b9%e7%9b%ae" class="header-mark"></a>创建项目</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">shell</p></div><div class="post-footer">
        <a href="/posts/rust/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/programing-language/">Programing Language</a>,&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/planting-esp32spi-to-rtthread/">移植ESP32SPI驱动至rtthread教程</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-10-19">2024-10-19</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-11-04">2024-11-04</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="移植esp32spi驱动至rt-thread" class="headerLink">
    <a href="#%e7%a7%bb%e6%a4%8desp32spi%e9%a9%b1%e5%8a%a8%e8%87%b3rt-thread" class="header-mark"></a>移植ESP32SPI驱动至RT-Thread</h1><p>本文是博主移植驱动工作的总结，详细介绍了移植过程以及遇到的问题及其解决方案，希望对各位有帮助。同时，代码已进入<a href="https://github.com/RT-Thread/rt-thread/pull/9513" target="_blank" rel="noopener noreferrer">RT-Thread主线</a>。博文同时发表在个人博客<a href="wumingzi.top" rel="">wumingzi.top</a></p>
<p>本文主要使用、查阅了以下资料：</p>
<ul>
<li>参考书籍 RT-Thread设备驱动开发指南，ESP32官方文档</li>
<li>硬件 ESP32-C3-DevKitM-1，W25Q64</li>
</ul>
<h2 id="系统平台搭建" class="headerLink">
    <a href="#%e7%b3%bb%e7%bb%9f%e5%b9%b3%e5%8f%b0%e6%90%ad%e5%bb%ba" class="header-mark"></a>系统平台搭建</h2><p>具体的硬件连线不必多说，参考<a href="https://docs.espressif.com/projects/esp-dev-kits/zh_CN/latest/esp32c3/esp32-c3-devkitm-1/user_guide.html#id9" target="_blank" rel="noopener noreferrer">ESP32C3官方开发板的原理图</a>即可，交叉编译环境可以参考博主的这篇文章<a href="https://club.rt-thread.org/ask/article/cf9ff0733112d936.html" target="_blank" rel="noopener noreferrer">ESP32C3环境搭建教程</a>，代码编辑器我使用了vscode+clang的搭配方式，不采用微软的C/C++插件的原因是在编写驱动时vscode发生过多次闪退的情况，并且代码提示和高亮补全残缺，相关配置可自行参考网上</p>
<h2 id="代码参考" class="headerLink">
    <a href="#%e4%bb%a3%e7%a0%81%e5%8f%82%e8%80%83" class="header-mark"></a>代码参考</h2><p>我们可以参考其他芯片的SPI驱动代码来编写，个人参考了GD32和STM32的代码，GD32的驱动代码会简单很多，STM32会更复杂一些</p>
<h2 id="修改kconfig与sconscript文件" class="headerLink">
    <a href="#%e4%bf%ae%e6%94%b9kconfig%e4%b8%8esconscript%e6%96%87%e4%bb%b6" class="header-mark"></a>修改Kconfig与SConscript文件</h2><p>Kconfig指定了系统资源，使得我们可以通过menuconfig来选择配置系统。Kconfig原理可以看<a href="https://www.rt-thread.org/document/site/#/development-tools/build-config-system/Kconfig?id=kconfig" target="_blank" rel="noopener noreferrer">官方文档</a>，简而言之，我们可以通过menuconfig的tui界面来配置Kconfig从而生成.config文件，而后再由系统解析.config文件最后生成rtconfig.h文件来指定系统宏的值从而配置系统。但当前Kconfg并不支持SPI驱动，因此我们需要新增Kconfig选项。</p>
<p>Kconfig的风格与厂商，开发者个人相关。例如有的厂商会习惯将引脚配置项放在板上菜单中，并将功能配置项放在片上外设菜单中 ，而有的厂商会将两者都混放在片上外设菜单或BSP菜单中。前者代表是ESP32和GD32，后者代表是STM32</p>
<p>新增的代码如下</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">Kconfig</p></div><div class="post-footer">
        <a href="/posts/planting-esp32spi-to-rtthread/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a>,&nbsp;<a href="/tags/os/">OS</a>,&nbsp;<a href="/tags/esp32/">ESP32</a>,&nbsp;<a href="/tags/rt-thread/">RT-Thread</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/using-nginx-for-trojan-and-rsshub/">nginx反向代理trojan与rsshub</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-10-19">2024-10-19</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-10-19">2024-10-19</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="nginx反向代理trojan与rsshub" class="headerLink">
    <a href="#nginx%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86trojan%e4%b8%8ersshub" class="header-mark"></a>nginx反向代理trojan与rsshub</h1><p>最终效果：外网通过rss.domin.top访问rsshub服务，通过free.domin.top访问trojan服务，通过free.domin.top/admin访问trojan-web管理服务。内部使用docker隔离包括nginx在内的所有服务</p>
<h2 id="前置准备" class="headerLink">
    <a href="#%e5%89%8d%e7%bd%ae%e5%87%86%e5%a4%87" class="header-mark"></a>前置准备</h2><h3 id="购买服务器及域名" class="headerLink">
    <a href="#%e8%b4%ad%e4%b9%b0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%8f%8a%e5%9f%9f%e5%90%8d" class="header-mark"></a>购买服务器及域名</h3><p>可以从主流的服务器提供商购买服务器以及域名，我选择的服务器厂商是雨云(国际厂商可以选择racknerd或VMISS)，域名提供商是namesilo</p>
<p>购买完毕后需要在国内DNS解析服务器上绑定ip与域名，可以选择腾讯DNS解析服务。绑定格式如下，需要注意的是我这里使用的二级域名需要额外在namesilo生成

<figure><a class="lightgallery" href="/vx_images/555814913252497.png" title="2024-10-19_13-49" data-thumbnail="/vx_images/555814913252497.png" data-sub-html="<h2> </h2><p>2024-10-19_13-49</p>"><img   src='/vx_images/555814913252497.png'   alt="2024-10-19_13-49" height="1479" width="2239"></a><figcaption class="image-caption">2024-10-19_13-49</figcaption>
    </figure></p>
<p>
<figure><a class="lightgallery" href="/vx_images/355505213270377.png" title="2024-10-19_13-52" data-thumbnail="/vx_images/355505213270377.png" data-sub-html="<h2> </h2><p>2024-10-19_13-52</p>"><img   src='/vx_images/355505213270377.png'   alt="2024-10-19_13-52" height="1481" width="2236"></a><figcaption class="image-caption">2024-10-19_13-52</figcaption>
    </figure>
这里记录值改为ip地址即可</p>
<h3 id="初始化服务器" class="headerLink">
    <a href="#%e5%88%9d%e5%a7%8b%e5%8c%96%e6%9c%8d%e5%8a%a1%e5%99%a8" class="header-mark"></a>初始化服务器</h3><p>我的系统是Ubuntu22.04，预安装宝塔面板。安装系统完成并进入宝塔面板后，需要下载docker</p>
<h2 id="正式搭建" class="headerLink">
    <a href="#%e6%ad%a3%e5%bc%8f%e6%90%ad%e5%bb%ba" class="header-mark"></a>正式搭建</h2><h3 id="部署nginx容器" class="headerLink">
    <a href="#%e9%83%a8%e7%bd%b2nginx%e5%ae%b9%e5%99%a8" class="header-mark"></a>部署nginx容器</h3><p>我这里使用的是<a href="https://hub.docker.com/_/nginx/tags" target="_blank" rel="noopener noreferrer">dockerhub上的官方版本</a></p>
<p>首先拉取镜像到本地</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">shell</p></div><div class="post-footer">
        <a href="/posts/using-nginx-for-trojan-and-rsshub/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a>,&nbsp;<a href="/tags/rss/">RSS</a>,&nbsp;<a href="/tags/nginx/">Nginx</a>,&nbsp;<a href="/tags/life/">Life</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/computer-network/">计算机网络</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-04-22">2024-04-22</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-09-09">2024-09-09</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><p>本文从OSI网络模型出发介绍计算机网络，并涉及多种有关计算机网络的应用。需要注意的是本文有较为浓厚的学术界气息，对于具体的协议使用本文不阐述</p>
<!-- more -->
<h1 id="计算机网络" class="headerLink">
    <a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c" class="header-mark"></a>计算机网络</h1><h2 id="分组交换与线路交换" class="headerLink">
    <a href="#%e5%88%86%e7%bb%84%e4%ba%a4%e6%8d%a2%e4%b8%8e%e7%ba%bf%e8%b7%af%e4%ba%a4%e6%8d%a2" class="header-mark"></a>分组交换与线路交换</h2><p>线路交换：早期通信设备所采用的方式，这种方法通过时分，频分等手段将一条宽带分成若干个通讯链路从而使多个设备同时且独享的通信，这种通讯方式适合电话或者早期互联网</p>
<p>随着互联网的发展设备数爆炸式增长，这暴露了线路交换允许同时通信的设备数少的缺点。即当双方通信时，虽然会进行频分或者时分，但是这会占用双方通信时经过的所有路由</p>
<p>分组交换：双方通信时，会在通信的每个路由上开一个buffer来缓存数据，并用两路由之间全部带宽来传输数据。这样就解决了线路交换的缺点。分时交换只会占用传输数据时彼此相邻的两个路由，当buffer里的数据传送完毕后发送方会释放资源。分组交换虽然有这种好处，但这是以延时和丢包为代价的，因为这种传输本身就会增加延时，并且当多个主机同时经过同个路由时就会因为传输队列已满导致丢包</p>
<h2 id="接入互联网" class="headerLink">
    <a href="#%e6%8e%a5%e5%85%a5%e4%ba%92%e8%81%94%e7%bd%91" class="header-mark"></a>接入互联网</h2><h3 id="无线方式接入" class="headerLink">
    <a href="#%e6%97%a0%e7%ba%bf%e6%96%b9%e5%bc%8f%e6%8e%a5%e5%85%a5" class="header-mark"></a>无线方式接入</h3><p>wlans：常用于建筑物内，代表：wifi</p>
<p>广域无线接入：任何有基站信号的范围，代表：4G</p>
<h2 id="协议层次" class="headerLink">
    <a href="#%e5%8d%8f%e8%ae%ae%e5%b1%82%e6%ac%a1" class="header-mark"></a>协议层次</h2><p>对于不同的TCP应用(如webnet，ftp，telnet)，他们是通过socket接口来下发报文至TCP的</p>
<p>
<img   src='/vx_images/129152910256147.png'   alt="129152910256147.png" height="733" width="1002"></p>
<p>对于链路层设备(交换机)，他是把源主机发来的数据解封装2次到链路层后获得链路层的信息来进行转发的。而对于网络层设备(路由器)，是把源主机发来的数据解封装3次到网络层后获得网络层的信息来进行转发的。对于目标主机，他是解封装5次从而获得数据</p>
<p>
<img   src='/vx_images/415065510251901.png'   alt="415065510251901.png" height="734" width="972"></p>
<h2 id="应用层" class="headerLink">
    <a href="#%e5%ba%94%e7%94%a8%e5%b1%82" class="header-mark"></a>应用层</h2><h3 id="socket套接字" class="headerLink">
    <a href="#socket%e5%a5%97%e6%8e%a5%e5%ad%97" class="header-mark"></a>socket套接字</h3><p>socket的优点在于它通过ip地址，端口号等信息统一向OS注册了一个整数，使得每次发报文时不需要重复指定ip地址，端口号等信息。这简化了传输信息的步骤，并且便于OS管理。更重要的是有了socket之后我们就可以进行多进程操作了，这在网络服务器中被称为<strong>多路复用</strong>，由于可能有多个客户端对服务器同时发起请求，因此有必要让一个端口支持多个客户端会话，那么怎么区分这些会话从而让信息发送到指定应用和客户端呢？那就是通过socket值的不同来判断，而socket是根据源ip和端口号不同而不同的</p>
<p>对于使用TCP传输层协议的应用而言，我们需要指定本机ip及端口号，目的ip及端口号，而对于使用UDP传输层协议的应用而言，我们只需要指定目的ip及端口号就够了。但是现代的操作系统会将本地ip及端口号隐藏在socket操作中，所以无论是TCP还是UDP，仅需要指定目的ip及端口号就够了</p>
<p>
<img   src='/vx_images/18374216269781.png'   alt="18374216269781.png" height="771" width="1025"></p>
<p>TCP以及UDP都是明文传输的，为了改进TCP的安全性，SSL协议提供了加密的TCP连接。对于SSL，现阶段并没有明确究竟是属于应用层还是传输层，但是它的层次依然是高于TCP的，采用了SSL的http服务被称为https</p>
<h3 id="http" class="headerLink">
    <a href="#http" class="header-mark"></a>http</h3><p>http：超文本传输协议</p>
<p>使用TCP协议不会区分报文的界限，这件事是由应用来做的，但是http则会区分</p>
<p>http协议本身是无状态的，这意味着他不会存储客户端状态，例如某用户的历史记录，用户信息等数据。但是我们可以通过加入cookie这种补丁来解决这个问题.无状态的优点是操作简单方便，同一链路容纳的服务器数量大</p>
<p>cookie是一个存储登陆信息的内容，客户端首次访问服务器时服务器会在内部分配一个cookie并发给客户端，等客户端需要再次登陆时只需要把cookie发送给服务器即可，此时服务器会将客户端发来的cookie与内部的数据库进行比对从而确定是哪个用户发来的请求</p>
<p>当链路的流量强度很大时可以通过在本地建立缓存服务器来缓解，根据二八定律和局部性原理，大部分流量被本地缓存服务器处理，少部分通过Internet被源服务器处理。这种方法会减少带宽的成本</p>
<h3 id="ftp" class="headerLink">
    <a href="#ftp" class="header-mark"></a>ftp</h3><p>ftp适用于客户端服务器模式的文件传输</p>
<p>ftp：根据TCP协议与服务器21号端口建立连接，采用明文传输，因此会暴露用户名和密码。在21号端口建立的是控制连接，用于发送命令。真正的数据传送是由ftp服务器向客户端发起的，服务器会向客户端20号端口建立连接从而传输文件</p>
<h3 id="email" class="headerLink">
    <a href="#email" class="header-mark"></a>email</h3><p>用户代理软件：email客户端软件(outlook)是email应用的用户代理，http客户端软件(firefox)是web应用的用户代理，ftp客户端软件(filezilla)是ftp应用的用户代理。我们是通过客户端软件(用户代理)来跟服务器打交道的，不是直接跟服务器打交道的</p>
<p>
<img   src='/vx_images/397560120267385.png'   alt="397560120267385.png" height="721" width="924"></p>
<p>email使用SMTP协议通过25号端口上传邮件到服务器，之后邮件服务器会进行同步</p>
<p>email使用POP或者IMAP协议进行邮件的下载，IMAP协议有更多的功能，例如它允许用户在服务器组织邮箱目录</p>
<h3 id="dns" class="headerLink">
    <a href="#dns" class="header-mark"></a>dns</h3><p>
<img   src='/vx_images/475695509264888.png'   alt="475695509264888.png" height="791" width="1136"></p>
<p>TTL：缓存时间，当本地dns没有记录某个ip与域名的对应关系时，本地dns会向权威名字服务器进行查询，查询到结果后会缓存在本地并保留一段时间，当超过这个时间后没有再次查询的请求，本地dns就会把这条记录删除。这是为了保证一致性并节省空间</p>
<h3 id="p2p" class="headerLink">
    <a href="#p2p" class="header-mark"></a>p2p</h3><p>非结构化的p2p：不指定p2p网络结构是什么样子的，例如环状，星状网络等</p>
<p>一般而言，非结构化p2p网络网络分为集中化目录式，完全分布式以及混合式</p>
<ul>
<li>集中化目录式：有一台服务器维护资源表，这个表可以提供资源与对应peer的关系，想要请求资源时必须查询这个表，迅雷属于这种</li>
<li>完全分布式：所有资源完全分布在用户手中，用户申请资源时需要对邻居节点进行泛洪操作从而遍历整个p2p网络。值得注意的是用户获得最早的邻居节点来源于下载软件时软件自带的经常活跃的peer的ip地址，因此这种方法有一定的不可靠性，同时由于进行泛洪操作也会对网络造成压力</li>
<li>混合式：上述两种方法的混合，peer加入某一个用户组组成的洪流中，bt属于这种</li>
</ul>
<p>bittorrent：为了提高上传用户保种的积极性，bt应运而生。用户想要获得资源时需要到p2p搜索引擎上找到对应资源，资源内部有tracker文件。如果用户获得了tracker文件就会知道都有哪些peer维护这个文件，这样我们就可以下载这个文件了。当下载时文件会被分成很多文件块，并生成文件位图来表示当前peer是否持有文件块，这些文件块会从那些你曾经给予他们文件支持的那些peer中优先得到，这基于一种算法：上传者会将流量分为三份，前两份来给予曾经帮助过他的peer，最后一份用来随机给陌生用户，这样不仅保证了用户忠诚还有拉新作用。那些在线且文件完整的节点被称为torrent(种子)，否则被称为吸血鬼</p>
<h3 id="cdn" class="headerLink">
    <a href="#cdn" class="header-mark"></a>cdn</h3><p>cdn是将内容存储在离用户较近的服务器，这不仅降低延迟提高了用户舒适度而且还减轻了源服务器压力</p>
<p>当用户请求音视频资源时，用户主机会向dns进行请求，而后dns会返回一个cdn的dns网址或ip，我们用户再解析这个cdn的dns网址就会得到具体的cdn的ip，这里面就有我们申请的资源。cdn的dns主要起一个重定向的作用，这也是为了负载均衡和优化考虑</p>
<h2 id="传输层" class="headerLink">
    <a href="#%e4%bc%a0%e8%be%93%e5%b1%82" class="header-mark"></a>传输层</h2><p>ip(网络层)提供的服务是不可靠的，因此需要tcp/udp(传输层)来提供可靠的传输</p>
<h3 id="tcp" class="headerLink">
    <a href="#tcp" class="header-mark"></a>tcp</h3><p>
<img   src='/vx_images/483952310246130.png'   alt="483952310246130.png" height="693" width="923"></p>
<p>
<img   src='/vx_images/177303610268570.png'   alt="177303610268570.png" height="1439" width="1884"></p>
<h4 id="三次握手与四次挥手" class="headerLink">
    <a href="#%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b%e4%b8%8e%e5%9b%9b%e6%ac%a1%e6%8c%a5%e6%89%8b" class="header-mark"></a>三次握手与四次挥手</h4><p>建立连接时仅仅两次握手(建立请求-应答回复)是不够的，因为握手时有可能由于延时过大导致客户端重发建立请求从而出现半连接。这样我们就需要双方均发出两次建立请求才可，即：客户端建立请求-&gt;服务器端应答回复-&gt;服务器端建立请求-&gt;客户端应答回复。在发出请求时发出的是随机的同步码，同步码的作用是告知对方哪个数据传输有误从而方便重传，例如92.8的同步码代表92号到99号的字节都已经接收到了，发送方需要从第100个字节处开始传。而在建立请求的第二步和第三步可以统一用一条报文发出，这样就演变成了现在的的三次挥手</p>
<p>断开连接时也类似建立连接，那为什么断开连接就需要四次挥手呢？这是因为在接受来自客户端断开连接请求时的报文上面常常载有数据，服务器端需要对这些数据进行处理，这一过程是耗时的，假如服务器真的想合并第二步第三步使其变成三次挥手，这就可能导致客户端没有收到服务器的ack从而重发连接断开请求。因此断开连接常常需要四次挥手。而建立连接时没有数据解析的需求，我们就可以将服务器端的应答回复和建立请求统一成一步</p>
<h4 id="流量控制" class="headerLink">
    <a href="#%e6%b5%81%e9%87%8f%e6%8e%a7%e5%88%b6" class="header-mark"></a>流量控制</h4><p>通过协议内部报文标志位从而使网络核心层的路由和边缘层的主机进行通信，路由器进行标志位置位时意味着网络有些拥堵，此时会使边缘层的主机发送速率减半从而防止网络拥堵，这样就进行了流量控制。当网络拥堵时丢包率和延迟也会增加，上述操作不仅减少了网络拥堵同时也改善了丢包率和延迟，这也进行了延时控制</p>
<p>上面操作的缺点：路由向主机发送报文时耗费资源且也容易丢包，这在网络拥堵时也会加重拥堵。因此我们应该从边缘侧来推测网络是否拥堵从而解决这个缺点。我们通常根据下述情况来判断是否网络拥堵：</p>
<ul>
<li>客户端收到服务端3次重发的ack：这可能是网络拥挤造成的，也可能是服务器端缓冲区不足从而进行流量控制造成的</li>
<li>客户端发出的数据包超时：这很有可能是网络拥挤造成的</li>
</ul>
<h2 id="网络层" class="headerLink">
    <a href="#%e7%bd%91%e7%bb%9c%e5%b1%82" class="header-mark"></a>网络层</h2><p>路由位于网络层，决定数据报怎么转发，即通过路由表计算来算出具体的路由
交换机位于数据链路层，只是进行单纯的数据转发，通过路由器算出的路由来进行转发</p>
<p>网络层还可以对数据报进行许多动作：泛洪，block，转发路径，修改某些字段，这些特性仅在sdn(软件定义网络)转发方式中才支持，对于传统方式则不支持</p>
<h3 id="ip" class="headerLink">
    <a href="#ip" class="header-mark"></a>ip</h3><p>
<img   src='/vx_images/478644610263707.png'   alt="478644610263707.png" height="808" width="1085"></p>
<p>在子网内部，只有纯交换机的连接而没有路由器的连接，互联网是以网络为单位而进行的路由表计算，到达对应网络后再进行那个网络下子网的路由表计算从而找到子网的子网，这样就可以遍历整个互联网了。由于计算路由表时是按ip地址进行匹配的，一般而言同一个区域的ip地址前若干位大致相同，我们可以通过这一特性将其他区域的ip地址划分到有相同前缀ip的路由表下，这样我们就会加快查找效率。这种技术我们称为路由聚集</p>
<p>特殊约定：0.0.0.0的地址代指本主机地址，1.1.1.1的地址代表广播地址，127.x.x.x代表回路地址，代表本主机，192.168.x.x代表内网地址</p>
<h4 id="子网掩码" class="headerLink">
    <a href="#%e5%ad%90%e7%bd%91%e6%8e%a9%e7%a0%81" class="header-mark"></a>子网掩码</h4><p>为了方便路由器获得主机号和网络号从而做路由运算，ip地址按照一定格式被分为A类，B类，C类地址，A类指的类似255.x.x.x的地址，其子网可容纳6m个主机，B类地址指的是类似255.255.x.x的地址，其子网可容纳65534个设备，C类地址类似，但只能容纳254个设备。如果按子网主机数量来看，大部分厂商需要设备数量处于数百到数千的范围，这样按类划分网络就失去意义了。为了解决这个问题，我们采用了无类地址的方法：设计一个子网掩码，使得路由器再进行路由运算之前先做子网掩码的与运算，从而获得对应的网络号和主机号。这样就可以通过网络号做路由运算找到相应子网，通过主机号在子网中找到对应主机，在表示中有如下例子：200.235.21.15/23，代表前23位是网络号，后9位是主机号</p>
<h3 id="nat" class="headerLink">
    <a href="#nat" class="header-mark"></a>nat</h3><p>nat(网络地址转换)：通过路由器来软件模拟一个新的端口号，从而解决ip地址不足的问题。当内网设备向外网服务器发出请求时，路由器会根据内网设备的内网ip和端口号来生成一个新的端口号并记录在路由表中，发送的时候需要将内网ip转换到外网ip，端口号更改为生成的端口号。这样当外部的资源返回时就可以根据这个路由表来找到真实的内网主机ip和端口号了</p>
<h3 id="隧道技术" class="headerLink">
    <a href="#%e9%9a%a7%e9%81%93%e6%8a%80%e6%9c%af" class="header-mark"></a>隧道技术</h3><p>ipv6的产生解决了ipv4地址不足的问题，但是同时也带来了兼容性的问题。我们可以在ipv6网络边缘层的网关处设置ipv4/v6双栈协议来解决这个问题，具体原理是在网关路由器处将ipv6的信息二次打包为ipv4的信息，这样我们可以将ipv6的报文在ipv4的网络中传输到另一处ipv6的子网内部。这种技术在ipv4的内部构成了像隧道一样结构，因此我们称这种技术为隧道技术</p>
<h3 id="sdn" class="headerLink">
    <a href="#sdn" class="header-mark"></a>sdn</h3><p>sdn的具体模型是：有一个中央服务器跑一个网络操作系统，当需要改变网络功能或者对网络进行其他操作时网络操作系统会自动进行路由表计算并部署到分组交换机中，这样我们就可以通过集中式部署而对网络进行自定义的改造了，改造后的网络在收发数据时不需要中央服务器和网络操作系统的介入，这时报文路由完全靠分组交换机实现</p>
<p>使用sdn后不仅可以大大提高网络弹性，而且isp只需要购买分组交换机这一种设备就可以了，不需要之前的路由器和交换机</p>
<h2 id="路由与路由协议" class="headerLink">
    <a href="#%e8%b7%af%e7%94%b1%e4%b8%8e%e8%b7%af%e7%94%b1%e5%8d%8f%e8%ae%ae" class="header-mark"></a>路由与路由协议</h2><p>早期路由通过内存来收发信息，现在的路由通过CPU总线结构来收发信息，这样带宽会更大(30Gbps+)，足以满足企业需求</p>
<p>路由协议主要采用BGP协议，其分为外部协议eBGP和内部协议iBGP。外部协议注重策略，内部协议注重性能，例如外部协议以国家，公司为单位，因此需要考虑经济，政治上的原因。内部协议类似内网，由于有多个路由器需要内部协议维护，因此更需要考虑效率。由于采用了网络层次和路由聚集，因此我们可以很轻松的找到对应主机。当一个新的主机上线时，我们需要通过当前子网的网关来通告其他的网关，其他的网关再依次算出路由表并且通知内部的子路由，这样一个网络就建立起来了</p>
<h2 id="链路层" class="headerLink">
    <a href="#%e9%93%be%e8%b7%af%e5%b1%82" class="header-mark"></a>链路层</h2><p>计算机广域网采用点对点连接，这是出于物理上的成本考虑的(中美海底电缆之间并没有连接其他任何国家)。而对局域网来说采用多点连接，这样可以保证效率。但是局域网采用多点连接的同时也会引入一个问题：两个主机同时请求造成冲突怎么办，这种冲突我们称为多点访问冲突</p>
<p>链路层传输报文的单位是帧，传输的时候需要加上mac地址，交换机是按照mac地址工作的</p>
<p>链路层服务：流量控制，纠错码，错误检测，全双工半双工</p>
<p>CRC：循环冗余校验码，用来校验信息是否出错</p>
<p>交换机或者路由一般不组成环状结构，因为这会引发广播风暴，但是为了防止链路出现问题(光缆被挖断)，我们需要冗余一条链路以组成环状。这根线路平时不使用，仅在特殊情况下使用，这样既避免了广播风暴问题又解决了线路损坏的问题</p>
<p>数据在子网中传输时需要用到链路层的技术，如arp(存储ip地址，mac地址与端口的表)，交换机等，数据在子网间传输的时候需要用到网络层的技术(ip，路由器等)</p>
<h3 id="csmaca以太网技术" class="headerLink">
    <a href="#csmaca%e4%bb%a5%e5%a4%aa%e7%bd%91%e6%8a%80%e6%9c%af" class="header-mark"></a>CSMA/CA(以太网技术)</h3><p>ap：无线接入点，一般为路由器或基站</p>
<p>当两个无线设备同时对同一个ap点发送信号时就会叠加电磁波引发冲突，因为ap无法判断这是一个设备发过来的还是多个设备发过来的信号。但我们可以通过无线设备上的电磁波传感器就可以判断是否有其他设备发送无线信号，并以此作为冲突检测的工具</p>
<p>802.11(wlan)的CSMA/CA方法：当信道忙时，发送方等待信道空闲后给一个自减的随机值，等到随机值减到0时再次尝试发送。假如在随机值自减的过程中发送方发现信道又忙，那就等待信道空闲时再次选一个随机值。对于接收方来说，当帧正确时会给一个ack</p>
<p>CSMA/CA在高负载情况下会有效率低下的问题，但是这个问题可以引入交换机来解决(交换机可以只监听两个端口)</p>
<h3 id="mac地址" class="headerLink">
    <a href="#mac%e5%9c%b0%e5%9d%80" class="header-mark"></a>mac地址</h3><p>在节点和节点间的数据传递过程中交换机并不能识别ip地址，我们需要通过ip地址解析协议(arp协议)来知道下一跳的mac地址以及对应端口，这样交换机的网卡才知道如何发送数据给其他交换机或目标主机</p>
<p>mac地址由IEEE管理和分配，制造商购入mac地址空间来保证其唯一性</p>
<p>当路由器需要发数据给子网内部设备时，我们需要查询arp表。如果没有查到目标ip对应的mac地址和端口，路由器就会进行广播，对应的设备就会进行回应并把自己的mac地址和端口发送给路由器，之后路由器将这个mac地址加入arp表中缓存起来。当查询到mac地址时路由器会直接把数据发送出去，经过若干跳后到达目标主机</p>
<h3 id="lan以太网" class="headerLink">
    <a href="#lan%e4%bb%a5%e5%a4%aa%e7%bd%91" class="header-mark"></a>lan(以太网)</h3><p>总线型网络：类似于cpu总线，多个设备挂载到总线上，两端挂载吸收器，这样可以吸收反射的电磁波，防止CSMA/CA技术下设备回声。但是当总线某处出现破损时会造成信号回声，导致任何设备发送数据时都会发现总线忙</p>
<p>集线器(hub)：克服总线型网络的缺点，将总线长度大大缩减并放于金属制容器内(hub)，使得设备回声只发生在某个设备与集线器的线路上，不会影响整个总线从而利于排障。缺点是通信时类似广播，不能控制每个设备的端口单独发送数据，因此使用CSMA/CA技术后会导致高负载工况效率低下，因为每个端口相互影响，在高负载情况下端口只能等待其他端口发送完成才能使用总线，这样就不能进行总线的复用了</p></div><div class="post-footer">
        <a href="/posts/computer-network/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a>,&nbsp;<a href="/tags/network/">Network</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/linux-advanced/">Linux深入</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-02-23">2024-02-23</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2025-03-31">2025-03-31</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><p>Linux驱动深入</p>
<!-- more -->
<h1 id="linux深入" class="headerLink">
    <a href="#linux%e6%b7%b1%e5%85%a5" class="header-mark"></a>Linux深入</h1><h2 id="内联汇编" class="headerLink">
    <a href="#%e5%86%85%e8%81%94%e6%b1%87%e7%bc%96" class="header-mark"></a>内联汇编</h2><p>为了保证效率或者使用特殊指令(如原子操作)时需要使用汇编，使用方法是：单独将汇编代码放在.S文件中，在C函数中使用extern声明之后就可以使用汇编文件里的函数了</p>
<p>对于内联汇编需要使用__asm___关键字修饰函数

<figure><a class="lightgallery" href="/vx_images/30092012266713.png" title="2024-02-13_12-19" data-thumbnail="/vx_images/30092012266713.png" data-sub-html="<h2> </h2><p>2024-02-13_12-19</p>"><img   src='/vx_images/30092012266713.png'   alt="2024-02-13_12-19" height="731" width="1062"></a><figcaption class="image-caption">2024-02-13_12-19</figcaption>
    </figure></p>
<h2 id="同步互斥的深入" class="headerLink">
    <a href="#%e5%90%8c%e6%ad%a5%e4%ba%92%e6%96%a5%e7%9a%84%e6%b7%b1%e5%85%a5" class="header-mark"></a>同步互斥的深入</h2><p>在单核CPU上关中断开中断是可以实现同步互斥的，但是在多核CPU上开关中断不能保证其他CPU不会修改临界变量</p>
<h3 id="原子操作" class="headerLink">
    <a href="#%e5%8e%9f%e5%ad%90%e6%93%8d%e4%bd%9c" class="header-mark"></a>原子操作</h3><p>对于ARMv6之前的内核，通过关中断恢复中断来实现原子操作，但是在v6之后(包括v6)，由于arm支持SMP(多核CPU)，因此不能简单的使用开关中断来实现原子操作，而是使用ldrex，strex汇编语句来实现，其根本原理是在要ldr数据上打上标记，在要str的数据上消除标记，根据能否消除标记而返回不同的值，根据值来判断是否申请资源成功，不成功的话则再次重复，直到能申请资源为止</p>
<p>
<figure><a class="lightgallery" href="/vx_images/333854115259382.png" title="2024-02-13_15-41" data-thumbnail="/vx_images/333854115259382.png" data-sub-html="<h2> </h2><p>2024-02-13_15-41</p>"><img   src='/vx_images/333854115259382.png'   alt="2024-02-13_15-41" height="1096" width="1809"></a><figcaption class="image-caption">2024-02-13_15-41</figcaption>
    </figure></p>
<h2 id="锁" class="headerLink">
    <a href="#%e9%94%81" class="header-mark"></a>锁</h2><h3 id="自旋锁" class="headerLink">
    <a href="#%e8%87%aa%e6%97%8b%e9%94%81" class="header-mark"></a>自旋锁</h3><p>自旋锁无法休眠，当一段临界区被加上自旋锁时，如果CPU0与CPU1都竞争临界区只有CPU0获得资源的话，那么CPU1不会休眠而是会反复请求资源(当写程序时，在进中断时也要加自旋锁来防止其他CPU打断当前CPU执行irq)，因此，使用自旋锁时临界区代码要尽量精简(5行左右)，且不能休眠</p>
<p>自旋锁在 <strong>单核系统(UP)</strong> 还可以用来禁止调度防止抢占，对于不同的自旋锁他有不同的防止抢占方式，比如对于最普通的spin_lock()而言，他只能关闭调度，而对于spin_lock_irq()而言，它可以关闭中断</p>
<p>自旋锁的实现：每个自旋锁上都有当前任务编号，和当前任务编号+1的下一个任务编号，内核会检查想要申请资源的自旋锁任务编号与当前自旋锁下一个任务编号是否相同，相同的话则获得锁，否则wfe休眠一段时间</p>
<h3 id="睡眠锁" class="headerLink">
    <a href="#%e7%9d%a1%e7%9c%a0%e9%94%81" class="header-mark"></a>睡眠锁</h3><p>睡眠锁有mutex和semaphore两种</p>
<p>对于信号量来说，它可以休眠，因此对于临界区代码可以比自旋锁复杂很多，信号量用于多进程间访问同步和互斥，而互斥锁用于保护某个临界资源</p>
<p>在信号量结构体中，需要用到自旋锁</p>
<p>semaphore的实现：semaphore结构体中有spinlock，还有个count和wait_list，当使用spinlock_up获取semaphore时，首先需要获得spinlock，如果成功获得则需要让count++，否则把自己挂载到wait_list上</p>
<p>mutex的实现：与semaphore类似，但是由于追求效率会更为复杂，里面配置了宏开关来优化效率，通过宏可以选择等待mutex的线程是否休眠(休眠开销太大)。当进入临界区获取资源时也可以自动判断使用fastpath还是slowpath</p>
<p>fastpath与slowpath：
当一段临界区代码很短且需要mutex时，这时大概率会出现线程不需要等待而直接获取资源，并且解锁时也不需要唤醒其他线程，这种情况称为fastpath，而需要等待获取资源且需要唤醒其他线程称为slowpath，两个的选择取决于mutex结构体中的count(是个原子变量)，count值为1时表示unlocked，此时其他线程可以获得锁，count值为0时代表locked，需要解锁，但是当前执行任务的线程解锁后不需要唤醒其他任务此时为fastpath，当count值为-1时，代表当前任务解锁后还需要唤醒其他线程，这时是slowpath</p>
<p>mutex的实现比semaphore更复杂，这是因为mutex追求更高的效率，在写驱动程序的时候尽量使用mutex</p>
<h2 id="usart" class="headerLink">
    <a href="#usart" class="header-mark"></a>USART</h2><p>访问虚拟终端中的<strong>前台</strong>终端：/dev/tty0
访问当前程序运行的终端(考虑真实的USART等终端)：/dev/tty (不会输出信息到其他tty)</p>
<p>在驱动模块崩溃时可以查看LR来找到崩溃的函数
当驱动程序错误时，可以使用<strong>strace  -o  log.txt ./exe</strong>可以在log.txt里获得系统调用</p>
<h3 id="printk" class="headerLink">
    <a href="#printk" class="header-mark"></a>printk</h3><p>printk后面可以加上打印级别，如果不指定打印级别则会默认打印级别，当console设置的打印级别低于内核级别时则不会打印printk。如果想在多个控制台打印时，可以在设备树或者uboot指定console=tty0，console=tty1，但是只有最后指定的console会收到串口信息。实际上，uboot也是通过修改设备树来实现更改打印终端的</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">shell</p></div><div class="post-footer">
        <a href="/posts/linux-advanced/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/os/">OS</a>,&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/linux-kernel/">Linux内核</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-02-21">2024-02-21</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-10-28">2024-10-28</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><p>date: 2024-4-10 9:48:30</p>
<h1 id="linux内核基础" class="headerLink">
    <a href="#linux%e5%86%85%e6%a0%b8%e5%9f%ba%e7%a1%80" class="header-mark"></a>Linux内核基础</h1><p><strong>本文阐述系统为x86体系架构，idt，gdt，tss，系统启动引导过程均以x86架构为蓝本，arm可能不适用</strong></p>
<!-- more -->
<h2 id="linux内核体系结构" class="headerLink">
    <a href="#linux%e5%86%85%e6%a0%b8%e4%bd%93%e7%b3%bb%e7%bb%93%e6%9e%84" class="header-mark"></a>Linux内核体系结构</h2><p>nmi(not mask interrupt)不可屏蔽中断
系统启动时会读取RTC并赋值给jiffies
内核中定时器使用链表进行管理</p>
<p>每个进程都有LDT(局部描述符)，即代码段和数据段。单处理器系统只有一个GDT，而在多处理器系统中每个CPU都有一个GDT，GDT(全局描述符)是各个寄存器地址</p>
<p>IDT(中断描述符表)，其作用也类似于中断向量表，只是其中每个中断描述符项中除了含有中断服务程序地址以外，还包含有关<strong>特权级</strong>和<strong>描述符类别</strong>等信息
<a href="https://blog.csdn.net/yxc135/article/details/8734452" target="_blank" rel="noopener noreferrer">中断向量表和中断描述符表IDT-CSDN</a></p>
<p><a href="https://blog.csdn.net/ybxuwei/article/details/80657461" target="_blank" rel="noopener noreferrer">linux分段-CSDN</a></p>
<p>
<figure><a class="lightgallery" href="/vx_images/373000621257049.png" title="2024-02-22_21-06" data-thumbnail="/vx_images/373000621257049.png" data-sub-html="<h2> </h2><p>2024-02-22_21-06</p>"><img   src='/vx_images/373000621257049.png'   alt="2024-02-22_21-06" height="628" width="778"></a><figcaption class="image-caption">2024-02-22_21-06</figcaption>
    </figure></p>
<p>TSS(任务状态段)就是特殊寄存器 + 通用寄存器的信息</p>
<p>
<figure><a class="lightgallery" href="/vx_images/56405009258689.png" title="2024-02-22_09-49" data-thumbnail="/vx_images/56405009258689.png" data-sub-html="<h2> </h2><p>2024-02-22_09-49</p>"><img   src='/vx_images/56405009258689.png'   alt="2024-02-22_09-49" height="1070" width="1903"></a><figcaption class="image-caption">2024-02-22_09-49</figcaption>
    </figure></p>
<h3 id="fork的实现" class="headerLink">
    <a href="#fork%e7%9a%84%e5%ae%9e%e7%8e%b0" class="header-mark"></a>fork的实现</h3><ul>
<li>申请内存空间</li>
<li>把父进程的task_struct拷贝到子进程的task_struct并重新设置</li>
<li>设置进程状态为可运行，返回pid</li>
</ul>
<p>需要注意的是fork出的子进程的文件描述符比父进程大1，这也是Linux基础文章中现象的实现</p>
<p>
<figure><a class="lightgallery" href="/vx_images/402763010246556.png" title="2024-02-22_10-28" data-thumbnail="/vx_images/402763010246556.png" data-sub-html="<h2> </h2><p>2024-02-22_10-28</p>"><img   src='/vx_images/402763010246556.png'   alt="2024-02-22_10-28" height="1079" width="1144"></a><figcaption class="image-caption">2024-02-22_10-28</figcaption>
    </figure></p>
<h3 id="进程调度" class="headerLink">
    <a href="#%e8%bf%9b%e7%a8%8b%e8%b0%83%e5%ba%a6" class="header-mark"></a>进程调度</h3><p>在0.11内核中，进程调度分为调度和切换两个步骤，调度负责将用完时间片的进程挂起，并将进程的状态位改为暂停状态，切换时为了效率采用汇编，它的作用是将那些设置状态位的进程加载进CPU寄存器中，即执行上下文切换的功能</p>
<h3 id="进程销毁" class="headerLink">
    <a href="#%e8%bf%9b%e7%a8%8b%e9%94%80%e6%af%81" class="header-mark"></a>进程销毁</h3><p>以syscall_和do_开头的基本上是系统调用，即中断服务函数</p>
<ul>
<li>内核的销毁流程
<ul>
<li>进入do_exit函数
<ul>
<li>首先释放数据段和代码段占用的内存</li>
<li>关闭进程打开的所有文件，对当前的目录和i节点进行同步</li>
<li>如果进程是个会话头进程，则会终止会话中的所有进程</li>
<li>改变进程运行状态为TASK_ZOMBIE，并且向父进程发送SIGCHLD信号，do_exit函数执行完毕</li>
</ul>
</li>
<li>在父进程中进行最后的处理工作，父进程运行子进程的时候一般都会运行wait或waitpid这两个函数(父进程等待某个子进程终止的函数)，当父进程收到SIGCHLD信号时会终止僵死状态的子进程
<ul>
<li>首先父进程会把子进程的运行时间(utime,stime)累加到自己的进程变量中，把要销毁的子进程的进程描述结构体进行释放，置空任务数组中的子进程任务槽</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>
<figure><a class="lightgallery" href="/vx_images/231530512266722.png" title="2024-02-22_12-05" data-thumbnail="/vx_images/231530512266722.png" data-sub-html="<h2> </h2><p>2024-02-22_12-05</p>"><img   src='/vx_images/231530512266722.png'   alt="2024-02-22_12-05" height="609" width="2090"></a><figcaption class="image-caption">2024-02-22_12-05</figcaption>
    </figure></p>
<h2 id="linux内核启动引导" class="headerLink">
    <a href="#linux%e5%86%85%e6%a0%b8%e5%90%af%e5%8a%a8%e5%bc%95%e5%af%bc" class="header-mark"></a>Linux内核启动引导</h2><h3 id="操作系统的启动" class="headerLink">
    <a href="#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e7%9a%84%e5%90%af%e5%8a%a8" class="header-mark"></a>操作系统的启动</h3><p>Linux启动时的硬件信息是由bootloader传进来的</p>
<ul>
<li>Linux启动流程
<ul>
<li>首先由BIOS/bootloader进行一系列的硬件初始化和参数设置，并把bootsect.s从硬盘中某个固定地址搬到内存中的某个固定地址，需要注意在内核初始化需要关中断来防止初始化被中断。</li>
<li>bootsect.s将setup.s代码从磁盘中加载到紧接着bootsect.s的地方，最后跳转到setup.s中运行</li>
<li>setup.s负责将bootloader传进来的信息进行解析，关中断并加载system模块，使system模块正好覆盖bootsect.s(关中断是为了防止覆盖bootsect.s的代码后系统不能处理中断而导致崩溃)。设置LDT，GDT，IDT，而后设置中断芯片，进入到保护模式(svc32)运行，在代码的最后会跳转到head.s(0x00000000)执行</li>
<li>head.s加载内核运行时的各数据段寄存器，并重新设置IDT(防止被数据区覆盖)，设置内存对齐以及分页，最后跳转到main.c开始运行，系统启动完成</li>
</ul>
</li>
<li>Linux在启动的时候是如何拿到硬件参数的
<ul>
<li>通过bootloader加载传入的参数(_atags_pointer)，这个参数是一块指向存有硬件信息内存的首地址的指针，通过这个指针就可以获得硬件参数</li>
</ul>
</li>
<li>Linux在初始化运行中都做了什么
<ul>
<li>进行硬件的初始化(就是下文中各种段的设置)，fork出0号进程</li>
</ul>
</li>
</ul>
<p>
<figure><a class="lightgallery" href="/vx_images/577701316251700.png" title="2024-02-22_16-13" data-thumbnail="/vx_images/577701316251700.png" data-sub-html="<h2> </h2><p>2024-02-22_16-13</p>"><img   src='/vx_images/577701316251700.png'   alt="2024-02-22_16-13" height="943" width="2260"></a><figcaption class="image-caption">2024-02-22_16-13</figcaption>
    </figure></p></div><div class="post-footer">
        <a href="/posts/linux-kernel/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/os/">OS</a>,&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/linux-basics/">Linux基础</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-01-23">2024-01-23</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-10-28">2024-10-28</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><p>基础的Linux应用与驱动开发</p>
<!-- more -->
<h1 id="linux" class="headerLink">
    <a href="#linux" class="header-mark"></a>Linux</h1><h2 id="linux基础" class="headerLink">
    <a href="#linux%e5%9f%ba%e7%a1%80" class="header-mark"></a>Linux基础</h2><p>shell负责解析命令，当用户在shell中输入命令时，根据输入的结果，shell根据PATH环境变量的位置找到相应的程序执行，因此可以通过将.o文件复制到PATH来直接在任何目录下执行程序，否则只能使用绝对路径或相对路径的方式来执行</p>
<p>[]代表可选参数 &lt;&gt;代表必选参数</p>
<h3 id="linux基础命令与操作" class="headerLink">
    <a href="#linux%e5%9f%ba%e7%a1%80%e5%91%bd%e4%bb%a4%e4%b8%8e%e6%93%8d%e4%bd%9c" class="header-mark"></a>Linux基础命令与操作</h3><p>. 当前目录 .. 上一级目录 - 切换前上一次的目录</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">shell</p></div><div class="post-footer">
        <a href="/posts/linux-basics/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/os/">OS</a>,&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/cpp/">C&#43;&#43;</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-01-14">2024-01-14</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2025-04-04">2025-04-04</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><p>本文较为详细地介绍了C++的语法和使用中需要注意的点，还介绍了STL库和Modern C++，甚至涉及C++20的部分新特性。在最后，我们大致的介绍了C++常用的设计模式</p>
<!-- more -->
<h1 id="c" class="headerLink">
    <a href="#c" class="header-mark"></a>C++</h1><h2 id="从c到c" class="headerLink">
    <a href="#%e4%bb%8ec%e5%88%b0c" class="header-mark"></a>从C到C++</h2><h3 id="new和delete" class="headerLink">
    <a href="#new%e5%92%8cdelete" class="header-mark"></a>new和delete</h3><p>尽管C++11引入了智能指针，但是为了兼容老程序，new和delete的方法也应值得注意</p>
<ul>
<li>C原生的melloc与free使用起来较为复杂，需要根据返回值来判断下一步做什么</li>
<li>C原生的melloc与free也只进行内存申请但不进行对象实例化，也就是说C仅仅返回内存地址的指针，而C++返回的是一块特定类型的指针</li>
<li>更重要的是C++在调用new时会自动执行对象的构造函数，C原生的melloc与free则不支持</li>
</ul>
<p>在使用delete回收数组时需要告诉他数组的类型</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">cpp</p></div><div class="post-footer">
        <a href="/posts/cpp/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/programing-language/">Programing Language</a>,&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/python/">Python</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-01-14">2024-01-14</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-09-08">2024-09-08</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="python" class="headerLink">
    <a href="#python" class="header-mark"></a>Python</h1><h2 id="python基础" class="headerLink">
    <a href="#python%e5%9f%ba%e7%a1%80" class="header-mark"></a>Python基础</h2><h3 id="解释器与编译器" class="headerLink">
    <a href="#%e8%a7%a3%e9%87%8a%e5%99%a8%e4%b8%8e%e7%bc%96%e8%af%91%e5%99%a8" class="header-mark"></a>解释器与编译器</h3><p>解释器输出运行的结果
编译器输出编译的文件</p>
<p>字面量：写在代码中的值，可以被分为整数，浮点数，字符串，元组，列表等
python的单引号和双引号意义相同，但是使用单引号可以打出双引号，但不能打出单引号。使用双引号则反之，如果想使用单引号打出单引号，则需要加上反斜杠代表转义字符</p>
<!-- more -->
<h3 id="注释的写法" class="headerLink">
    <a href="#%e6%b3%a8%e9%87%8a%e7%9a%84%e5%86%99%e6%b3%95" class="header-mark"></a>注释的写法</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">py</p></div><div class="post-footer">
        <a href="/posts/python/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/programing-language/">Programing Language</a>,&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/toolchains/">工具链</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-01-02">2024-01-02</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-10-29">2024-10-29</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><p>本文介绍了Git，GDB，Makefile，CMake四种C/C++编程中常用的工具链，还涉及一点GCC制作库文件的内容</p>
<!-- more -->
<h1 id="工具链" class="headerLink">
    <a href="#%e5%b7%a5%e5%85%b7%e9%93%be" class="header-mark"></a>工具链</h1><h2 id="git" class="headerLink">
    <a href="#git" class="header-mark"></a>Git</h2><h3 id="git本地操作" class="headerLink">
    <a href="#git%e6%9c%ac%e5%9c%b0%e6%93%8d%e4%bd%9c" class="header-mark"></a>Git本地操作</h3><p>版本控制系统分为2种</p>
<ul>
<li>集中式版本控制系统 如SVN</li>
<li>分布式版本控制系统 如Git</li>
</ul>
<p>相比SVN，Git可靠性高但操作复杂</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">git</p></div><div class="post-footer">
        <a href="/posts/toolchains/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a>,&nbsp;<a href="/tags/tools/">Tools</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/program/">项目</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-01-01">2024-01-01</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-04-17">2024-04-17</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="项目" class="headerLink">
    <a href="#%e9%a1%b9%e7%9b%ae" class="header-mark"></a>项目</h1><h2 id="freertos内核实现" class="headerLink">
    <a href="#freertos%e5%86%85%e6%a0%b8%e5%ae%9e%e7%8e%b0" class="header-mark"></a>FreeRTOS内核实现</h2><p>参考书籍：《FreeRTOS 内核实现与应用开发实战指南》</p>
<blockquote>
  <p>一个工程如果没有 main 函数是编译不成功的,会出错。因为系统在开始执行的时候先执行启动文件里面的复位程序,复位程序里面会调用 C 库函数__main,__main 的作用是初始化好系统变量,如全局变量,只读的,可读可写的等等。__main 最后会调用__rtentry,再由__rtentry 调用 main 函数,从而由汇编跳入到 C 的世界,这里面的 main 函数就需要我们手动编写,如果没有编写 main 函数,就会出现 main 函数没有定义的错误。</p>
</blockquote><!-- more -->
<p>生成的startup_ARMCM3.s负责启动startup_ARMCM3.c负责时钟配置，本项目默认的时钟为25M</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">c</p></div><div class="post-footer">
        <a href="/posts/program/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/miscs/">杂项</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-12-24">2023-12-24</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-10-28">2024-10-28</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="杂项" class="headerLink">
    <a href="#%e6%9d%82%e9%a1%b9" class="header-mark"></a>杂项</h1><h2 id="硬件" class="headerLink">
    <a href="#%e7%a1%ac%e4%bb%b6" class="header-mark"></a>硬件</h2><p>SOC: system on chip
电机会有死区电压，表现为电压很低时电机不能启动，死区电压约占额定电压的10%，此时需要给一PWM占空比最小值从而避免死区电压</p>
<!-- more -->
<p>
<figure><a class="lightgallery" href="/vx_images/113862122249687.png" title="2023-12-20_22-20" data-thumbnail="/vx_images/113862122249687.png" data-sub-html="<h2> </h2><p>2023-12-20_22-20</p>"><img   src='/vx_images/113862122249687.png'   alt="2023-12-20_22-20" height="1193" width="1128"></a><figcaption class="image-caption">2023-12-20_22-20</figcaption>
    </figure>
处于三相电PWM调功率中的开关器件(如IGBT)，换相时为防止三相电任意上半桥和下半桥同时开启导致短路，我们要给死区时间，一般会占整个周期的百分之几，但当PWM占空比极小时，死区时间就会产生很大影响，最终影响输出纹波</p>
<p>常量保存在Flash里，全局初始化非零的变量保存在SRAM的.data段内，静态变量或者全局初始化为零的变量保存在.bss段内，函数和函数内的局部变量保存在栈上</p>
<p>尽量把数据保存在栈上，这样防止产生内存安全问题，并且栈上访问数据速度更快(数据局部性原理？)
栈是从高地址向低地址增长，堆是从低地址向高地址增长</p>
<p>
<figure><a class="lightgallery" href="/vx_images/326561215267371.png" title="2024-04-09_15-12" data-thumbnail="/vx_images/326561215267371.png" data-sub-html="<h2> </h2><p>2024-04-09_15-12</p>"><img   src='/vx_images/326561215267371.png'   alt="2024-04-09_15-12" height="1337" width="602"></a><figcaption class="image-caption">2024-04-09_15-12</figcaption>
    </figure></p>
<p>
<figure><a class="lightgallery" href="/vx_images/321153610251887.png" title="2024-04-09_10-34" data-thumbnail="/vx_images/321153610251887.png" data-sub-html="<h2> </h2><p>2024-04-09_10-34</p>"><img   src='/vx_images/321153610251887.png'   alt="2024-04-09_10-34" height="1260" width="977"></a><figcaption class="image-caption">2024-04-09_10-34</figcaption>
    </figure></p>
<p>操作Flash前需要关中断</p>
<p>计算机底层是小端存储的原因是在C程序员眼里，小端更符合直觉，在不定长的int，char中可以相互转换而不改变变量值(变量长度小于int、char最小值的情况下)，但是对于传输协议来说，大部分为定长字段传输，这就造成了大端存储更符合从左至右的阅读习惯</p>
<h2 id="编译器c与内核" class="headerLink">
    <a href="#%e7%bc%96%e8%af%91%e5%99%a8c%e4%b8%8e%e5%86%85%e6%a0%b8" class="header-mark"></a>编译器、C与内核</h2><h3 id="gnu工具链" class="headerLink">
    <a href="#gnu%e5%b7%a5%e5%85%b7%e9%93%be" class="header-mark"></a>GNU工具链</h3><p>GNU工具集：binutils tools，其中包括</p>
<ul>
<li>readelf：查看二进制文件的各个段的信息</li>
<li>objdump：2进制转16进制，常用于反汇编，当然也可以用来查看文件信息</li>
<li>objcopy：段的复制</li>
</ul>
<h3 id="gcc特性" class="headerLink">
    <a href="#gcc%e7%89%b9%e6%80%a7" class="header-mark"></a>GCC特性</h3><h4 id="结构体初始化" class="headerLink">
    <a href="#%e7%bb%93%e6%9e%84%e4%bd%93%e5%88%9d%e5%a7%8b%e5%8c%96" class="header-mark"></a>结构体初始化</h4><p>在Linux内核中会经常看到如下结构体初始化方式：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">c</p></div><div class="post-footer">
        <a href="/posts/miscs/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/freertos/">FreeRTOS</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-12-24">2023-12-24</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-09-14">2024-09-14</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="freertos" class="headerLink">
    <a href="#freertos" class="header-mark"></a>FreeRTOS</h1><p>使用静态创建任务函数的话，返回值就是句柄，因此，要想对静态函数创建出来的任务进行操作的话需要创建一个临时变量以记录其返回值
使用vTaskDelet函数要注意不要在自己的进程内部自杀，这样会导致空闲任务无法清理内存</p>
<!-- more -->
<p>
<figure><a class="lightgallery" href="/vx_images/520675109231265.png" title="2023-12-24_09-51" data-thumbnail="/vx_images/520675109231265.png" data-sub-html="<h2> </h2><p>2023-12-24_09-51</p>"><img   src='/vx_images/520675109231265.png'   alt="2023-12-24_09-51" height="1215" width="1058"></a><figcaption class="image-caption">2023-12-24_09-51</figcaption>
    </figure></p>
<p>
<figure><a class="lightgallery" href="/vx_images/261583815249686.png" title="2023-12-19_15-36" data-thumbnail="/vx_images/261583815249686.png" data-sub-html="<h2> </h2><p>2023-12-19_15-36</p>"><img   src='/vx_images/261583815249686.png'   alt="2023-12-19_15-36" height="1271" width="1568"></a><figcaption class="image-caption">2023-12-19_15-36</figcaption>
    </figure>
TCB结构体内部包含函数指针，SP位置，优先级，函数名字，函数参数等，但并不包括函数的指针(用来执行本函数)，也不包括函数参数，CPU通过保存所有寄存器的值来保存这两项，保存的位置在该函数栈的顶部，其中R0，R1&hellip;保存了函数的参数(约定俗成)，R15(PC)保存了函数的指针，来进行函数的跳转操作
优先级最大值只能取到最大值-1，高于这个值的会自动变为最大值-1
空闲任务(xIdleTask)是启动调度器时就自动创建的，空闲任务可以使用自带的钩子函数创建出来，也可以用来处理下列任务</p>
<ol>
<li>执行一些低优先级的，后台的，需要连续执行的函数</li>
<li>进入省电模式</li>
<li>测量系统空闲时间</li>
</ol>
<p>空闲任务的限制： 不能让空闲任务进入阻塞状态或者暂停状态
取消支持时间片流转会使优先级相同的其中一个任务在未被高优先级打断前始终霸占CPU
调度策略配置项</p>
<ol>
<li>是否抢占(高优先级任务是否可以立即打断低优先级的执行)</li>
<li>允许抢占时，是否允许时间片流转(同一优先级任务执行时，是否允许相互打断执行)</li>
<li>允许抢占并且允许时间片流转时，是否允许空闲任务让步(空闲任务和用户任务在同一优先级时，空闲任务是否让出时间片) <br>
<a href="https://www.cnblogs.com/weidongshan/p/15624113.html" target="_blank" rel="noopener noreferrer">博客园</a></li>
</ol>
<p>
<figure><a class="lightgallery" href="/vx_images/24251810231257.png" title="2023-12-16_10-16" data-thumbnail="/vx_images/24251810231257.png" data-sub-html="<h2> </h2><p>2023-12-16_10-16</p>"><img   src='/vx_images/24251810231257.png'   alt="2023-12-16_10-16" height="1055" width="1697"></a><figcaption class="image-caption">2023-12-16_10-16</figcaption>
    </figure>
采用这种方式运行并发程序会导致Task3 Task4在将锁置为1之前就都已经进入if语句内部了，这就会导致概率性并发Bug
写队列函数xQueueSend与xQueueSendToBack是一样的，都是默认在队列尾部写入数据，而xQueueSendToFront则是在头部写入数据(头部就是pcReadFrom指针所指的地址，并不是队列的最右侧)，此时还需要将pcReadFrom指针减去一个ItemSize的地址
使用队列集并在队列里面写入数据时会把任务的数据写在队列里，并把任务的Handle写在队列集(Queue Set)里，读一次Queue Set后返回的Queue只能读一次，不能读多次，普通的Queue也一样因为读队列后系统自动删除数据
二值信号量的Give函数会检测信号量是否为1，若为1则会返回失败，而Take函数则会检查信号量是否为0，并且可以设置阻塞时间
信号量不能是负值
创建二值型信号量时默认初始值是0，需要Give一下，互斥量则不需要
信号量：Semaphore    互斥量：Mutex
只有申请方和接收方有锁的情况下才会产生优先级反转，如果其中一方无锁则正常调度就不会产生优先级反转，解决优先级反转的办法是优先级继承
为了解决优先级反转的问题，互斥量引入了优先级继承，而信号量则没有，同时由于优先级继承是指任务中的优先级，因此对于中断来说无意义。因此中断中不可以使用互斥量<a href="https://www.cnblogs.com/hanyli/p/17272577.html" target="_blank" rel="noopener noreferrer">互斥量不能在中断例程中使用的原因-博客园</a></p>
<p>死锁的原因有两种</p>
<ol>
<li>A函数内部二次上锁，A将自己阻塞了但其他任务并不能解锁造成死锁: A获得了锁，A调用一个库函数，这个库函数需要获得上面那个锁，死锁发生</li>
<li>A依赖B的锁，B又依赖A的锁，此时会死锁
解决的办法是使用递归锁(Recursive Mutex)，采用了谁持有谁释放的方法<br>
也就是说递归锁允许同一个线程多次获得锁，这样就可以防止第2种死锁</li>
</ol>
<p>事件组要么等待事件中的某一个发生，要么等待事件中的所有都发生，不能等待事件中的指定某几个发生

<figure><a class="lightgallery" href="/vx_images/28523719231258.png" title="2023-12-17_19-34" data-thumbnail="/vx_images/28523719231258.png" data-sub-html="<h2> </h2><p>2023-12-17_19-34</p>"><img   src='/vx_images/28523719231258.png'   alt="2023-12-17_19-34" height="831" width="832"></a><figcaption class="image-caption">2023-12-17_19-34</figcaption>
    </figure>

<figure><a class="lightgallery" href="/vx_images/2063919250386.png" title="2023-12-17_19-38" data-thumbnail="/vx_images/2063919250386.png" data-sub-html="<h2> </h2><p>2023-12-17_19-38</p>"><img   src='/vx_images/2063919250386.png'   alt="2023-12-17_19-38" height="498" width="1277"></a><figcaption class="image-caption">2023-12-17_19-38</figcaption>
    </figure>
![2023-12-17_19-34_1](/vx_images/280143719249684.png =300x)

<figure><a class="lightgallery" href="/vx_images/371893719237551.png" title="2023-12-17_19-35" data-thumbnail="/vx_images/371893719237551.png" data-sub-html="<h2> </h2><p>2023-12-17_19-35</p></div><div class="post-footer">
        <a href="/posts/freertos/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/os/">OS</a>,&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/c-review/">C复健计划</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-10-18">2023-10-18</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2025-03-06">2025-03-06</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="c复健计划" class="headerLink">
    <a href="#c%e5%a4%8d%e5%81%a5%e8%ae%a1%e5%88%92" class="header-mark"></a>C复健计划</h1><p>printf函数无法打印多行字符串，若要打印多行字符串则需要在每行后加换行符\n<br>
\n代表换行，\n\代表下一行是上一行的延续，如果改为\n则会报错 <br>
变量名第一个字母不能是数字
ANSI C C99 C11 关键字数量分别是32 32+5 37+7
%11.2f代表输出11个占位符，其中浮点型输出到小数点后2位，如果%a.bf，其中b比a大，则直接输出到小数点后b位而忽略a的值
%x: 十六进制 (hex) %o: 八进制(oct) %d: 十进制(dec)</p>
<!-- more -->
<p>
<figure><a class="lightgallery" href="/vx_images/581673908249386.png" title="2023-09-19_08-38" data-thumbnail="/vx_images/581673908249386.png" data-sub-html="<h2> </h2><p>2023-09-19_08-38</p>"><img   src='/vx_images/581673908249386.png'   alt="2023-09-19_08-38" height="313" width="685"></a><figcaption class="image-caption">2023-09-19_08-38</figcaption>
    </figure>

<figure><a class="lightgallery" href="/vx_images/90294008237253.png" title="2023-09-19_08-39" data-thumbnail="/vx_images/90294008237253.png" data-sub-html="<h2> </h2><p>2023-09-19_08-39</p>"><img   src='/vx_images/90294008237253.png'   alt="2023-09-19_08-39" height="279" width="1003"></a><figcaption class="image-caption">2023-09-19_08-39</figcaption>
    </figure>
&quot;   代表 &quot;   \ 代表 \ <br>
/*    */代表多行注释
&lt;&gt;表示导入系统文件  &ldquo;&ldquo;表示导入自定义文件`
Tab == 8个空格，或者4个空格</p>
<p>编译分为四步</p>
<ol>
<li>预编译：宏定义展开，头文件展开，条件编译等，并将注释删除（条件编译是指根据系统位数，编译库的选择确定编译环境）</li>
<li>编译：将预编译后的文件生成汇编文件</li>
<li>汇编：将汇编文件生成为目标文件（二进制代码）</li>
<li>链接：把库链接到可执行程序中（预编译只是说明函数格式）</li>
</ol>
<p>
<figure><a class="lightgallery" href="/vx_images/499670009249389.png" title="2023-09-22_08-5949" data-thumbnail="/vx_images/499670009249389.png" data-sub-html="<h2> </h2><p>2023-09-22_08-5949</p>"><img   src='/vx_images/499670009249389.png'   alt="2023-09-22_08-5949" height="424" width="1292"></a><figcaption class="image-caption">2023-09-22_08-5949</figcaption>
    </figure>
float 默认保留六位小数，%.2 表示保留小数点后两位（四舍五入）
常量定义方法：（不能对值进行修改）
const 数据类型 常量名 = 值 或 数据类型 const 常量名 = 值 ( 在函数中定义的常量不安全，而全局常量则安全 )
# define 常量名 值
第一种不安全，利用指针可以修改 const 定义的值
十六进制用 0x 开头 八进制用 0 开头 C不支持定义二进制数
有符号数最高位是符号位，0 代表正数，1 代表负数
scanf(&quot;%d&rdquo;,&amp;a); 不要加\n
%hd 短整型 %p 输出指针的地址
char &lsquo;单个字母&rsquo; 此时 %c 打印字母 %d 打印ASC2码
%c 对应的变量如果是整型，则输出ASC2码所对的字符
0 的ASC2码是 48 A 65 a 97 小写字母 - 大写字母 == 32
科学计数法赋值: float a = 3.2e3     //3.2*1000
%e 以科学计数法表示数字
WORD 双字节 16bit   DWORD (double word) 32bit

<figure><a class="lightgallery" href="/vx_images/342723609249394.png" title="2023-09-27_09-3508" data-thumbnail="/vx_images/342723609249394.png" data-sub-html="<h2> </h2><p>2023-09-27_09-3508</p></div><div class="post-footer">
        <a href="/posts/c-review/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/programing-language/">Programing Language</a>,&nbsp;<a href="/tags/tech/">Tech</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/stm32/">STM32</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-10-18">2023-10-18</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-10-28">2024-10-28</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="stm32" class="headerLink">
    <a href="#stm32" class="header-mark"></a>STM32</h1><p>STM32 常用寄存器缩写: CR 控制寄存器 SR 状态寄存器 DR 数据寄存器
ST公司出品的Microcontroller(微控制器) Cortex-M内核 学习的是M3内核
供电电压 2.0V-3.6V(标准3.3V)，USB输出电压是5V
AHB 先进高性能总线
APB 外设总线
内核的外设不需要开启时钟</p>
<!-- more -->
<p>![](vx_images/262091315231061_1.png =600x)
复用输入指的是同一引脚默认有很多输入功能，需要对GPIO指定使用哪个功能(TIM4就无复用功能)，而重定义则是非默认功能，需要进行AFIO选择进而变为复用功能
![2024-01-04_15-49](vx_images/384774915259273_1.png =600x)
![2023-10-16_22-3845](vx_images/581333822257516_1.png =600x)
![2023-10-13_16-2857](vx_images/198312916249480_1.png =600x)
![2023-10-13_17-0326](vx_images/285460417237347_1.png =600x)
最小系统电路: 单独的芯片不能工作，需要连接最基本的电路，由这些电路组成的就是最小系统电路</p>
<h2 id="gpio" class="headerLink">
    <a href="#gpio" class="header-mark"></a>GPIO</h2><p>RCC : 复位和时钟控制
GPIO(General Purpose Input Output)通用输入输出口
GPIO高低电平看外部输入输出,输入情况下,与外部电平极性相同.如果外部信号非常小,则为避免引入干扰源选择浮空输入,不清楚外部信号的情况下也选择浮空输入,输出情况下看外部负载电压要求
AIN是模拟输入专用模式，此时GPIO不输入输出，防止对外界信号干扰
AF_PP是复用推挽模式，片上外设使用这种模式
![2023-10-14_16-5334](vx_images/231855213249483_1.png =600x)
![2023-10-14_16-5138](vx_images/216535216249481_1.png =600x)
![2023-10-15_09-3232](vx_images/447993209231056_1.png =600x)
VDD 3.3V     VSS 0V
GPIO 控制流程：1.激活 RCC 时钟    2.使用 GPIO_Init 初始化 GPIO 函数<br>
施密特触发器的作用是对外界信号进行滤波，规定上下限，使得当超过上限输出为1，低于下限输出为0，上下限之间输出不变，这样可以维持信号的稳定性
在输出模式下，输入也是有效的
OLED函数showhexnum与shownum每逢10相差6，hexnum的数值比num高6</p>
<h2 id="中断" class="headerLink">
    <a href="#%e4%b8%ad%e6%96%ad" class="header-mark"></a>中断</h2><p>NVIC (Nested Vectored Interrupt Controller) 嵌套中断向量控制器: 统一分配中断优先级和管理中断
响应优先级: 完成当前任务后进行响应优先级的任务    中断优先级: 立即结束当前任务并进行中断优先级任务(可以决定中断嵌套,抢占优先级高的可以进行中断嵌套)
两个优先级相同的情况下按中断号排队,所以并不是先来后到
NVIC 分组在整个项目中只需要执行一次
![2023-10-17_08-4844](vx_images/543234908231058_1.png =600x)
EXTI (external interrupt) 外部中断控制器
EXTI 负责监控GPIO的电平变化,当产生跳变时,EXTI向NVIC发送中断申请,经NVIC裁决优先级后执行中断程序
![2023-10-16_13-5138](vx_images/571455113231057_1.png =600x)
![2023-10-16_15-0452](vx_images/49500515237350_1.png =600x)
GPIO_EXTILineConfig(GPIO_PortSourceGPIOx,GPIO_PinSourcex) 是配置AFIO的函数，参数是GPIO的通道和引脚</p></div><div class="post-footer">
        <a href="/posts/stm32/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a>,&nbsp;<a href="/tags/stm32/">STM32</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/vim/">Vim复健计划</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-10-18">2023-10-18</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2024-01-23">2024-01-23</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/tech/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Tech</a></span></div><div class="content"><h1 id="vim复健计划" class="headerLink">
    <a href="#vim%e5%a4%8d%e5%81%a5%e8%ae%a1%e5%88%92" class="header-mark"></a>Vim复健计划</h1><p>命令模式
o  新建下一行并切换到编辑模式
O 新建上一行并切换到编辑模式
[n]x  包括光标的后n位剪切，若改为X，则是光标前n位但包括光标所在的字符
[n]yy 包括光标的后n行复制
[n]dd 包括光标的后n行剪切
[n]p 粘贴复制的内容n遍</p>
<!-- more -->
<p>D 包括光标的之后当前行的所有字符剪切
dG 包括光标的之后所有行剪切
J 将下一行合并到上一行，并用空格连接
.  执行上一次操作
Shift+I 光标移到行首并进入编辑模式
Shift+A 光标移到行尾并进入编辑模式
Ctrl+f 向下滚屏（可以用PageDown）
Ctrl+b  向上滚屏（可以用PageUp）
gg 光标移到第一行行首
G   光标移到最后一行行首
[n]gg 或[n]G 光标移到第n行行首
/内容  查找内容    n 转到下一个   N 转到上一个
？ 查找上一次搜索的内容 （?内容 与 /内容 作用一样）
/^内容 查找以内容开头的字符串
/内容$ 查找以内容结尾的字符串
/a&hellip;b   查找以a开头b结尾，中间有3个任意字符的字符串
:r 文件名 在光标下一行插入文件的内容
:%s/aaa/bbb/gc 全文中aaa被替换为bbb，替换时确认
% 全文 s 替换 g 当前行所有字符 c 确认
:set nu 显示行号 :set nonu 不显示行号</p></div><div class="post-footer">
        <a href="/posts/vim/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/tech/">Tech</a>,&nbsp;<a href="/tags/arch-linux/">Arch Linux</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/century-industry/">百年工业</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-02-07">2023-02-07</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2023-02-07">2023-02-07</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Categories</a></span></div><div class="content"><h1 id="百年激荡" class="headerLink">
    <a href="#%e7%99%be%e5%b9%b4%e6%bf%80%e8%8d%a1" class="header-mark"></a>百年激荡</h1><blockquote>
  <p><font size = 5>资本主义 100 年所创造的物质财富超过了以往一切时代的总和</p>
<p align="right" > <font size = 4>—— 卡尔·马克思 </font> </p></font>
</blockquote><!-- more -->
<h2 id="前工业时代" class="headerLink">
    <a href="#%e5%89%8d%e5%b7%a5%e4%b8%9a%e6%97%b6%e4%bb%a3" class="header-mark"></a>前工业时代</h2><p>为了阐述工业体系的奇特之处，我们必须回到广义的工业革命之前，也就是大概1600~1700年。尽管距离珍妮机的出现还有一段不短的时间，但在历史上的科技进步思潮来说，这一段时间，世界发展模式发生了重大变化。欧洲从黑暗的中世纪走了出来，攫取着五大洲的财富，美洲正在开荒，东亚的明王朝余威尚在，南亚印度莫卧儿王朝虽然即将走向分裂，但尚可维持统一，中东的奥斯曼帝国如日中天。更重要的是，对于后世影响极为深刻的发明发现在此时涌现。需要强调的是，这些发明发现连接了人类农业时代与工业时代，沟通了人类的理性认识与感性认识，尽管在不同地区这些特点有所不同，但不可否认的是这一段时间是人类进入定居农耕后绝无仅有的经历。就我个人观点而言，这一段时期的重要性甚至超过了由铜器时代发展到铁器时代的重要性，是仅次于工业革命的辉煌时期。下面列举几例这期间的科技爆点：</p>
<ul>
<li>1596年中国李时珍《本草纲目》</li>
<li>1637年中国宋应星《天工开物》，同年法国笛卡尔创立解析几何.</li>
<li>1639年中国徐光启《农政全书》</li>
<li>1643年意大利托里拆利发现了大气压，11年后马德堡半球公开实验</li>
<li>1653年法国帕斯卡发现帕斯卡定律</li>
<li>1661年英国玻义耳提出元素定义,把化学确立为科学</li>
<li>1665年英国胡克首次用显微镜观察植物细胞</li>
<li>1670s年牛顿和莱布尼茨分别创立微积分</li>
<li>1676年丹麦勒麦证明光以有限速度传播</li>
<li>1676年法国马略特发现气体的玻义耳-马略特定律</li>
<li>1703年德国施塔尔将燃素说系统化</li>
<li>1712年英国纽可门制成第一架实用蒸汽机</li>
</ul>
<h3 id="前工业时代科技发明发现的特点" class="headerLink">
    <a href="#%e5%89%8d%e5%b7%a5%e4%b8%9a%e6%97%b6%e4%bb%a3%e7%a7%91%e6%8a%80%e5%8f%91%e6%98%8e%e5%8f%91%e7%8e%b0%e7%9a%84%e7%89%b9%e7%82%b9" class="header-mark"></a>前工业时代科技发明发现的特点</h3><ol>
<li>这些发明发现大多是全面性的，总结性的知识或者思想前卫的理论的非直接应用于生产性质的。</li>
<li>这些发明发现是农业时代的集大成之作，也是工业时代的先导。</li>
<li>这些发明发现彼此关联不大，即使有关联的因果关系也不明朗，甚至出现实际应用早于理论提出的现象。</li>
<li>这些发明发现最主要出现在东亚和欧洲，且两个地区的发明发现有着迥然不同的特点。而南亚次大陆，伊斯兰传统地区以及中亚的发明发现则很少，北非以南基本没有。</li>
<li>这些发明发现集中涌现，频度广度超过了此前任何时代。</li>
</ol>
<h3 id="相关特点的解释" class="headerLink">
    <a href="#%e7%9b%b8%e5%85%b3%e7%89%b9%e7%82%b9%e7%9a%84%e8%a7%a3%e9%87%8a" class="header-mark"></a>相关特点的解释</h3><p>工业革命之前人类首先要满足自己的生存需要，对于事物内在的联系和特点则不太关心，对其有深入研究的多是在社会中占据统治地位的人，他们占据了劳动产品的大多数，少数对事物发展原理有浓厚兴趣的人就成了古典的哲学家和博物学家。受限于知识经验的匮乏，他们的研究多是广博而不深入的，形成的知识经验体系也是框架式的指导性的哲学，所以不能产出深刻的本质理论且难以运用于生产。尽管研究的不彻底，但相关研究的基础是农业时代积攒千年的经验知识。因此，这种工业革命前期的研究具有全面性先导性的特点，且那时人们对庞大的农业手工业知识需要梳理，而因受战争瘟疫影响下人均资源较为丰富的社会环境也有助于人类科技的进一步发展，这两点就导致了发明发现的集中涌现。此时的农业时代的生产力远非之前各种时代所能比的，这样，各种发明发现出现如此的烈度也就不奇怪了。可理论不深刻的后果就是这些发明发现彼此是孤立的，那些这些哲学家和博物学家并没有发现他们之间的内在联系。当时的手工匠人还是依靠经验进行生产，比如，在制糖业中，搅糖师傅要依靠眼力和手感判断出糖的时机，烧火的师傅需要用皮肤和眼睛感受火炉温度的变化，尽管在随后的工业化进程中出现了专职搅拌蔗液的机器来取代制糖师傅，还有仅靠训练几天就看懂温度计的童工来取代烧火师傅，但是此时的生产还是应用高于理论，人们对温度，工艺经验和定量考察的联系认识不足。直有到了第二次工业革命科学家工程师群体才成为推进世界生产技术进步的重要力量，在此之前，成为一名手工匠人依然是普通人最好的出路。从农业社会的历史角度来看，传统的强势农业政权一共有三处，分别是位于地中海沿岸的欧洲，位于两河流域的中东以及地理位置较为封闭的东亚与南亚。其他的地区如中亚或者印度周围强敌环伺，不仅面临传统农业强权的竞争压力还面临着北方骑兵的威胁。对于中东来说，奥斯曼帝国建立后占据着东亚与欧洲沟通的必经之路，这时以国家的名义收过路费显然是收益率最高的方式。于是，本来可以凭借亚欧路上沟通进而搭上工业革命的浪潮的中东终于在欧洲人发现新航线之后落后了，而东亚和南亚本来作为新航线的目的地的打算也在哥伦布误打误撞的发现新大陆的现实下消失，在美洲种植甘蔗和香料远比亚洲容易得多，自此，中国和欧洲的科技模式发生了变化，彼此走向了不同的发展道路。</p>
<h2 id="机器时代" class="headerLink">
    <a href="#%e6%9c%ba%e5%99%a8%e6%97%b6%e4%bb%a3" class="header-mark"></a>机器时代</h2><h3 id="世界背景" class="headerLink">
    <a href="#%e4%b8%96%e7%95%8c%e8%83%8c%e6%99%af" class="header-mark"></a>世界背景</h3><p>上述的发明发现彼此孤立，倘若没有煤铁，没有自迭代的加工技术的话我们大概率还会停留在比较发达的农业社会，经历着几百年的农业周期。但是，人类运气比较好，自从蒙古铁蹄踏破了亚欧大陆后，蒙古人带来了战争和瘟疫，也同时带来科技与生机。瘟疫战乱使欧洲的人口快速减少，破坏了传统基督文化削弱了教会势力。蒙古势力阻碍中欧交流的同时迫使西方开启大航海时代，间接促进了新大陆的发现。而传统教会势力的孱弱也给了文艺复兴一个绝佳的机会。 这样，绵延百年的战乱瘟疫所导致的中西欧劳动力匮乏与宗教势力的削弱，迫使了新科学的出现，新技术的应用以及新航线新大陆的发现。至此，一个空前的农业周期出现在欧洲，无尽的白银香料糖流入欧洲再流向中国。同时输入性通胀带来的无尽财富使得明政权不思进取，由外部环境导致的内部压力导致了千年来最严格的海禁，这更为欧洲带来了绝佳的机会，此时南亚的莫卧儿王朝也处在分裂中，这里有无限的劳动力和市场等着欧洲来攫取。随着航海时代的来临，荷兰由于其独特的国家模式，迅速的成为一支不可忽视的力量。在荷兰霸权的后期仍然可以组建一支14万人的雇佣兵部队与法国作战，而这时是1687年。但荷兰的霸权是必然的，原因有很多，例如过度投机的国家模式，狭小的国土与过少的人口。无论怎样，荷兰霸权不会永远持续下去，获胜者不管是英国法国还是普鲁士，这都不影响接下来发生的事。</p>
<h3 id="煤铁和布" class="headerLink">
    <a href="#%e7%85%a4%e9%93%81%e5%92%8c%e5%b8%83" class="header-mark"></a>煤，铁和布</h3><p>早期的工业是分工细化的手工业，例如玻璃作坊有专职烧火的，专职制作玻璃液的，专职吹制玻璃的，纺织工场有专职煮棉的，专职纺线的，专职织布的。在手工业中，最枯燥，最耗费劳动力的莫非纺线和织布。早在珍妮机之前，英国人也在改良生产工具，但是珍妮机及其改进型的效率使得它的前辈都相形见绌。</p>
<p>对劳动力渴望的还有煤矿，自古以来，下矿都是一件极其耗费心力体力的事，劳动强度大，死亡率高。在奴隶制时代，也只有奴隶才下矿井，封建时代，就只有卖身奴，契约奴和战俘和囚犯才干这事。人们对煤的需求并不是天生的，但早期农业的燃料获取和战乱破坏了地表植被，人们不得不寻求更廉价更以获取的燃料来源。冶铁业比较发达的国家需要各种炭类来提供普通燃料达不到的高温，但是开采煤矿经常伴随渗水，一旦地下的含水层被打破，排水问题始终难以解决。在蒸汽机出现之前一般靠人力或者畜力运用机械排水，效率低耗时长。在纽可门发明第一台实用化的蒸汽机之后，排水的问题便被解决了。在此强调一点<strong>蒸汽机的材料是铁，燃料是煤，工质是水</strong>。但是这种类型的蒸汽机效率很低，但是无所谓，有了需求总会有人改进的。</p>
<p>煤矿里的另一个问题是运力。煤矿多于山上，道路崎岖运煤困难，早期的解决方案是用硬木做成木轨，马拉货车运煤。但是这种方式运力低下费用高昂：在机器时代马还是昂贵的牲畜。解决这一问题的是瓦特，尽管瓦特并没有做出蒸汽机车，但最早的蒸汽机车结构就是把瓦特的蒸汽机小型化搬上了轨道车。此时是1804年。这样，由煤（需要排水） — 铁（需要高温） — 机械加工技术 — 蒸汽机（需要能源和工质） — 煤（需要排水）   的工业循环就初步形成了。</p>
<p>但是这时的工业爆发还缺少一个临门一脚的条件 — 那就是能够发展上述循环的自迭代的功能。如果没有这个条件的话，这次的技术爆炸可能在人类历史上只不过是一轮非常不错的农业周期，最终农业政权还是会走向分裂，战争，导致人口减少，然后再次重启一个新的周期。然而这个条件是人类走向那时那刻的必要条件，没有它，人类绝不会造出蒸汽机，绝不会改进纺织机，也绝不会把荷兰拉下海上霸主的地位而这个条件就是以机床为代表的机械制造技术和熟练工人。蒸汽机的核心部件是气缸，要想做出不漏气又可滑移的气缸需要足够精密的机械加工技术。为了提高蒸汽机效率需要提高缸内气压，这又进一步对加工技术和材料提出了更高的要求，从而促进了发现品质更好的煤铁矿，改进更优良的工艺。此外，机床的制造也需要更精密的加工技术更优良的材料和更优秀的工人。</p>
<p>至此，煤（需要排水） — 铁（需要高温） — 机床（能够自迭代） — 蒸汽机（需要能源和工质） — 煤（需要排水） 的循环已经进化为 更多更好的煤（需要排水） — 更优质的铁（需要高温） — 更精密的机床（能够自迭代） — 性能更好的蒸汽机（需要能源和工质） — 比循环之初还要更多更好的煤（需要排水）。现在只要有一个动力让这个循环持续下去那么工业革命就到来了。那么是什么推动了这个循环呢？—— 是利润。</p></div><div class="post-footer">
        <a href="/posts/century-industry/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href=""></a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/test1/">测试</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-01-19">2023-01-19</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2025-04-07">2025-04-07</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Categories</a></span></div><div class="content"><p>本文测试 Markdown，网页排版及渲染</p>
<!-- more -->
<h1 id="一级标题" class="headerLink">
    <a href="#%e4%b8%80%e7%ba%a7%e6%a0%87%e9%a2%98" class="header-mark"></a>一级标题</h1><h2 id="二级标题" class="headerLink">
    <a href="#%e4%ba%8c%e7%ba%a7%e6%a0%87%e9%a2%98" class="header-mark"></a>二级标题</h2><h3 id="三级标题" class="headerLink">
    <a href="#%e4%b8%89%e7%ba%a7%e6%a0%87%e9%a2%98" class="header-mark"></a>三级标题</h3><p><em>斜体</em>
<strong>重点</strong>
<del>删除</del></p>
<ul>
<li>无序列表 1</li>
<li>无序列表 2</li>
</ul>
<ol>
<li>有序列表 1</li>
<li>有序列表 2</li>
</ol>
<p><a href="www.baidu.com" rel="">链接：百度</a></p>
<p>
<figure><a class="lightgallery" href="https://img0.baidu.com/it/u=4021493089,364774701&amp;fm=253&amp;app=138&amp;size=w931&amp;n=0&amp;f=PNG&amp;fmt=auto?sec=1674234000&amp;t=0f6e9227199a396ea9ead701335b431b" title="图片：Arch Linux " data-thumbnail="https://img0.baidu.com/it/u=4021493089,364774701&amp;fm=253&amp;app=138&amp;size=w931&amp;n=0&amp;f=PNG&amp;fmt=auto?sec=1674234000&amp;t=0f6e9227199a396ea9ead701335b431b" data-sub-html="<h2> </h2><p>图片：Arch Linux </p>"><img   src='https://img0.baidu.com/it/u=4021493089,364774701&fm=253&app=138&size=w931&n=0&f=PNG&fmt=auto?sec=1674234000&t=0f6e9227199a396ea9ead701335b431b'   alt="图片：Arch Linux "  ></a><figcaption class="image-caption">图片：Arch Linux </figcaption>
    </figure></p>
<p>脚注<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>上标^上标^</p>
<p>下标<del>下标</del></p>
<hr>
<p>分割线</p>
<hr>
<blockquote>
  <p>引用1
引用2</p>
<blockquote>
  <p>引用2.1<br>
引用2.2</p>
</blockquote>
</blockquote><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">C</p></div><div class="post-footer">
        <a href="/posts/test1/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/">Tags</a></div></div>
</article>
<article class="single summary"><h1 class="single-title">
        <a href="/posts/hello-world/">Hello World</a>
    </h1><div class="post-meta">
        <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="wumingzi.top" title="Author" rel=" author" class="author">吾铭子</a>
        </span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-01-02">2023-01-02</time>, 
            </span>&nbsp;<span class="post-publish">更新于 <time datetime="2025-04-07">2025-04-07</time>, 
            </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category"><a href="/categories/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Categories</a></span></div><div class="content"><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener noreferrer">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener noreferrer">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener noreferrer">GitHub</a>.</p>
<!-- more -->
<h2 id="quick-start" class="headerLink">
    <a href="#quick-start" class="header-mark"></a>Quick Start</h2><h3 id="create-a-new-post" class="headerLink">
    <a href="#create-a-new-post" class="header-mark"></a>Create a new post</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    
    tw-flex 
    tw-flex-row
    tw-flex-1 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        code-block-button
        tw-mx-2 
        tw-flex
        tw-flex-row
        tw-flex-1"
      aria-hidden="true">
          <div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div>
          <p class="tw-select-none !tw-my-1">bash</p></div><div class="post-footer">
        <a href="/posts/hello-world/">阅读全文</a><div class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/">Tags</a></div></div>
</article>
</div></main><footer class="footer">
        <div class="footer-container">
            <div class="footer-line">
                <span id="run-time"></span>
            </div><div class="footer-line">
                    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.145.0">Hugo</a>&nbsp;|&nbsp;Theme - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreferrer" title="DoIt 0.4.1"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg> DoIt</a>
                </div><div class="footer-line"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532 0-200-89.451-200-200 0-110.531 89.451-200 200-200 110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200zm107.351-101.064c-9.614 9.712-45.53 41.396-104.065 41.396-82.43 0-140.484-61.425-140.484-141.567 0-79.152 60.275-139.401 139.762-139.401 55.531 0 88.738 26.62 97.593 34.779a11.965 11.965 0 0 1 1.936 15.322l-18.155 28.113c-3.841 5.95-11.966 7.282-17.499 2.921-8.595-6.776-31.814-22.538-61.708-22.538-48.303 0-77.916 35.33-77.916 80.082 0 41.589 26.888 83.692 78.277 83.692 32.657 0 56.843-19.039 65.726-27.225 5.27-4.857 13.596-4.039 17.82 1.738l19.865 27.17a11.947 11.947 0 0 1-1.152 15.518z"/></svg>2023 - 2025<span class="author">&nbsp;<a href="wumingzi.top" target="_blank" rel="noopener noreferrer">吾铭子</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div></footer><div class="print:!tw-hidden tw-flex tw-flex-col tw-fixed tw-right-4 tw-bottom-4 tw-gap-2"><a href="#back-to-top" id="back-to-top-button" class="tw-transition-opacity tw-opacity-0 tw-block tw-bg-bgColor-secondary tw-rounded-full" style="padding: 0.6rem; line-height: 1.3rem; font-size: 1rem;" title="回到顶部">
      <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg>
  </a>

  </div>
<link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/lightgallery/lightgallery.min.css">
        <noscript><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"></noscript><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/katex/copy-tex.min.css">
        <noscript><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"></noscript>
<script>window.config={"autocomplete.min.js":"/lib/autocomplete/autocomplete.min.js","lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"pagefind.js":"/pagefind/pagefind.js","search":{"highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","pageLength":null,"snippetLength":50,"termFrequency":null,"termSaturation":null,"termSimilarity":null,"type":"pagefind"}};</script><script
    src="/lib/lightgallery/lightgallery.min.js"
    
      defer
    
  ></script><script
    src="/lib/lightgallery/lg-thumbnail.min.js"
    
      defer
    
  ></script><script
    src="/lib/lightgallery/lg-zoom.min.js"
    
      defer
    
  ></script><script
    src="/lib/katex/katex.min.js"
    
      defer
    
  ></script><script
    src="/lib/katex/auto-render.min.js"
    
      defer
    
  ></script><script
    src="/lib/katex/copy-tex.min.js"
    
      defer
    
  ></script><script
    src="/lib/katex/mhchem.min.js"
    
      defer
    
  ></script><script
    src="/js/katex.min.js"
    
      defer
    
  ></script><script
    src="/js/theme.min.js"
    
      defer
    
  ></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js"></script><script type="text/javascript" src="/js/custom.js"></script>

<script type="speculationrules">
  {
    "prerender": [
      {
        "where": { "href_matches": "/*" },
        "eagerness": "moderate"
      }
    ]
  }
</script>
</body>

</html>
